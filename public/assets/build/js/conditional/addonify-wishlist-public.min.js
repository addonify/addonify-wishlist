!function(H){"use strict";H(document).ready(function(){const t=H("body"),i=H("#addonify-wishlist-sticky-sidebar-container"),o=H("#addonify-wishlist-table"),{enabledMultiWishlist:d,ajaxURL:e,nonce:s,addToWishlistAction:n,removeFromWishlistAction:a,emptyWishlistAction:l,removeFromWishlistAfterAddedToCart:r,removeAlreadyAddedProductFromWishlist:c,successModalClasses:u,alertModalClasses:h,errorModalClasses:m,addedToWishlistModalIcon:f,removedFromWishlistModalIcon:y,successModalIcon:W,alertModalIcon:b,errorModalIcon:p,addedToWishlistModalMessage:F,alreadyInWishlistModalMessage:P,productRemovedFormWishlistModalMessage:_,wishlistEmptyingConfirmationModalMessage:k,wishlistLinkModalButton:w,emptyWishlistConfirmModalButton:U}=addonifyWishlistJSObject;let v=0,g="",C="",M="",L="",j="",T="",B="";var E={loader:addonifyWishlistJSObject.loader,wishlistPageURL:addonifyWishlistJSObject.wishlistPageURL,saveForLaterButtonLabel:addonifyWishlistJSObject.saveForLaterButtonLabel,savedForLaterButtonLabel:addonifyWishlistJSObject.savedForLaterButtonLabel,initialAddToWishlistButtonLabel:addonifyWishlistJSObject.initialAddToWishlistButtonLabel,addedToWishlistButtonLabel:addonifyWishlistJSObject.addedToWishlistButtonLabel,alreadyInWishlistButtonLabel:addonifyWishlistJSObject.alreadyInWishlistButtonLabel,undoNoticeTimeout:addonifyWishlistJSObject.undoNoticeTimeout,addedToWishlistModal:addonifyWishlistJSObject.addedToWishlistModal,removedFromWishlistModal:addonifyWishlistJSObject.removedFromWishlistModal,afterAddToWishlistAction:addonifyWishlistJSObject.afterAddToWishlistAction,productRemovalUndoNotice:addonifyWishlistJSObject.productRemovalUndoNotice,modalTemplate:addonifyWishlistJSObject.modalTemplate};const O=t.addonifyWishlistInit(E);function S(){H(document).trigger("addonify_adding_to_wishlist");var t={action:n,product_id:v,nonce:s};0<i.length&&(t.has_wishlist_sidebar=!0),0<o.length&&(t.has_wishlist_table=!0),H.post(e,t).done(function(t){1==t.success?(B=u,j=F,L=f,T=w,H(document).trigger("addonify_added_to_wishlist",[{productID:v,itemsCount:t.itemsCount,thisButton:C,modalContentUpdateData:I()}]),t.hasOwnProperty("sidebarProductRowContent")&&O.addWishlistSidebarProductRow(t.sidebarProductRowContent),t.hasOwnProperty("tableProductRowContent")&&O.addWishlistTableProductRow(t.tableProductRowContent)):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}function J(){H(document).trigger("addonify_removing_from_wishlist"),H.post(e,{action:a,product_id:v,nonce:s}).done(function(t){t.success?(B=u,j=_,L=y,H(document).trigger("addonify_removed_from_wishlist",[{productID:v,productName:g,itemsCount:t.itemsCount,thisButton:M,modalContentUpdateData:I()}])):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}function A(t){v=t.data("product_id"),g=t.data("product_name")}function I(){return{modal_icon:L,modal_message:j,modal_button:T,modal_container_classes:B,product_name:g}}function R(){T="",L="",B="",j=""}function D(t,i,o,d=""){B=t,L=i,j=o,T=d,O.displayModal(I()),R()}O.init(),{init:function(){this.wishlistButtonEventHandler(),this.undoEventsHandler(),this.addedToCartEventHandler()},wishlistButtonEventHandler:function(){"1"!==d&&(t.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(t){t.preventDefault(),(C=jQuery(this)).addClass("loading"),A(C),C.hasClass("added-to-wishlist")?"1"===c?(M=C,J()):D(u,f,P,w):S(),C.removeClass("loading")}),t.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(t){t.preventDefault(),A(M=H(this)),J()}),H(document).on("click","#addonify-wishlist__clear-all",function(t){t.preventDefault(),D(h,b,k,U)}),H(document).on("click","#adfy-empty-wishlist-confirm-button",function(t){t.preventDefault(),O.displayLoader(),H.post(e,{action:l,nonce:s}).done(function(t){t.success?(H(document).trigger("addonify_wishlist_emptied"),D(u,W,t.message)):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}))},undoEventsHandler:function(){"1"!==d&&t.on("click","#addonify-wishlist-undo-deleted-product-link",function(t){t.preventDefault(),C=H(this),S()})},addedToCartEventHandler:function(){"1"!==d&&H(document).on("added_to_cart",function(t,i,o,d){"1"===r&&(A(d),B=u,j=_,L=y,H(document).trigger("addonify_removed_from_wishlist",[{productID:d.data("product_id"),productName:d.data("product_name"),itemsCount:i.itemsCount,thisButton:d,modalContentUpdateData:I()}]),R())})}}.init()})}(jQuery);