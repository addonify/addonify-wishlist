!function(H){"use strict";H(document).ready(function(){const t=H("body"),i=H("#addonify-wishlist-sticky-sidebar-container"),o=H("#addonify-wishlist-table"),{enabledMultiWishlist:d,ajaxURL:s,nonce:e,addToWishlistAction:n,removeFromWishlistAction:a,emptyWishlistAction:l,removeFromWishlistAfterAddedToCart:c,removeAlreadyAddedProductFromWishlist:r,successModalClasses:u,alertModalClasses:h,errorModalClasses:m,addedToWishlistModalIcon:f,removedFromWishlistModalIcon:y,successModalIcon:W,alertModalIcon:b,errorModalIcon:p,addedToWishlistModalMessage:F,alreadyInWishlistModalMessage:P,productRemovedFormWishlistModalMessage:_,wishlistEmptyingConfirmationModalMessage:k,wishlistLinkModalButton:w,emptyWishlistConfirmModalButton:U}=addonifyWishlistJSObject;let v=0,g="",C="",M="",T="",L="",j="",B="";var E={loader:addonifyWishlistJSObject.loader,wishlistPageURL:addonifyWishlistJSObject.wishlistPageURL,saveForLaterButtonLabel:addonifyWishlistJSObject.saveForLaterButtonLabel,savedForLaterButtonLabel:addonifyWishlistJSObject.savedForLaterButtonLabel,initialAddToWishlistButtonLabel:addonifyWishlistJSObject.initialAddToWishlistButtonLabel,addedToWishlistButtonLabel:addonifyWishlistJSObject.addedToWishlistButtonLabel,alreadyInWishlistButtonLabel:addonifyWishlistJSObject.alreadyInWishlistButtonLabel,addToWishlistButtonIcon:addonifyWishlistJSObject.addToWishlistButtonIcon,addedToWishlistButtonIcon:addonifyWishlistJSObject.addedToWishlistButtonIcon,undoNoticeTimeout:addonifyWishlistJSObject.undoNoticeTimeout,addedToWishlistModal:addonifyWishlistJSObject.addedToWishlistModal,removedFromWishlistModal:addonifyWishlistJSObject.removedFromWishlistModal,afterAddToWishlistAction:addonifyWishlistJSObject.afterAddToWishlistAction,productRemovalUndoNotice:addonifyWishlistJSObject.productRemovalUndoNotice,modalTemplate:addonifyWishlistJSObject.modalTemplate};const O=t.addonifyWishlistInit(E);function S(){H(document).trigger("addonify_adding_to_wishlist");var t={action:n,product_id:v,nonce:e};0<i.length&&(t.has_wishlist_sidebar=!0),0<o.length&&(t.has_wishlist_table=!0),H.post(s,t).done(function(t){1==t.success?(B=u,L=F,T=f,j=w,H(document).trigger("addonify_added_to_wishlist",[{productID:v,itemsCount:t.itemsCount,thisButton:C,modalContentUpdateData:A()}]),t.hasOwnProperty("sidebarProductRowContent")&&O.addWishlistSidebarProductRow(t.sidebarProductRowContent),t.hasOwnProperty("tableProductRowContent")&&O.addWishlistTableProductRow(t.tableProductRowContent)):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}function I(){H(document).trigger("addonify_removing_from_wishlist"),H.post(s,{action:a,product_id:v,nonce:e}).done(function(t){t.success?(B=u,L=_,T=y,H(document).trigger("addonify_removed_from_wishlist",[{productID:v,productName:g,itemsCount:t.itemsCount,thisButton:M,modalContentUpdateData:A()}])):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}function J(t){v=t.data("product_id"),g=t.data("product_name")}function A(){return{modal_icon:T,modal_message:L,modal_button:j,modal_container_classes:B,product_name:g}}function R(){j="",T="",B="",L=""}function D(t,i,o,d=""){B=t,T=i,L=o,j=d,O.displayModal(A()),R()}O.init(),{init:function(){this.wishlistButtonEventHandler(),this.undoEventsHandler(),this.addedToCartEventHandler()},wishlistButtonEventHandler:function(){"1"!==d&&(t.on("click",".addonify-wishlist-ajax-add-to-wishlist, .addonify-add-to-wishlist-btn",function(t){t.preventDefault(),(C=jQuery(this)).addClass("loading"),J(C),C.hasClass("added-to-wishlist")?"1"===r?(M=C,I()):D(u,f,P,w):S(),C.removeClass("loading")}),t.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(t){t.preventDefault(),J(M=H(this)),I()}),H(document).on("click","#addonify-wishlist__clear-all",function(t){t.preventDefault(),D(h,b,k,U)}),H(document).on("click","#adfy-empty-wishlist-confirm-button",function(t){t.preventDefault(),O.displayLoader(),H.post(s,{action:l,nonce:e}).done(function(t){t.success?(H(document).trigger("addonify_wishlist_emptied"),D(u,W,t.message)):D(m,p,t.message)}).always(function(){O.hideLoader(),R()})}))},undoEventsHandler:function(){"1"!==d&&t.on("click","#addonify-wishlist-undo-deleted-product-link",function(t){t.preventDefault(),C=H(this),S()})},addedToCartEventHandler:function(){"1"!==d&&H(document).on("added_to_cart",function(t,i,o,d){"1"===c&&(J(d),B=u,L=_,T=y,H(document).trigger("addonify_removed_from_wishlist",[{productID:d.data("product_id"),productName:d.data("product_name"),itemsCount:i.itemsCount,thisButton:d,modalContentUpdateData:A()}]),R())})}}.init()})}(jQuery);