!function(f){"use strict";f(document).ready(function(){let a=f("body"),o=f("#addonify-wishlist-modal-response"),e=f("ul.adfy-wishlist-sidebar-items-entry");addonifyWishlistJSObject.isLoggedIn;let n,l='<div id="addonify-wishlist_spinner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11h5v2H2zm15 0h5v2h-5zm-6 6h2v5h-2zm0-15h2v5h-2zM4.222 5.636l1.414-1.414 3.536 3.536-1.414 1.414zm15.556 12.728-1.414 1.414-3.536-3.536 1.414-1.414zm-12.02-3.536 1.414 1.414-3.536 3.536-1.414-1.414zm7.07-7.071 3.536-3.535 1.414 1.415-3.536 3.535z"></path></svg></div>';function t(t){t.addClass("loading");let d=parseInt(t.val()?t.val():t.data("product_id")),s=parseInt(t.data("wishlist_id"));var i={action:"addonify_remove_from_wishlist",productId:d,wishlistId:s,nonce:addonifyWishlistJSObject.nonce};let a="";0<f("#addonify-wishlist-sticky-sidebar-container").length&&(a=f("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<f("#addonify-wishlist-table").length&&(a=f("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(l),f.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success?f(document).trigger("addonify_removed_from_wishlist",[{productID:d,productName:t.data("product_name"),wishlistID:s,wishlistCount:i.wishlist_count,action:"removed-from-wishlist"}]):r(i.message,t.data("product_name"),"error")},"json").always(function(){t.removeClass("loading")})}function r(i,t,d,s=!0){s?f(".addonify-view-wishlist-btn").css("display","block"):f(".addonify-view-wishlist-btn").css("display","none"),f(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),d&&f(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+d).show(),o.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),a.addClass("addonify-wishlist-modal-is-open")}function c(i){var t=f("#addonify-wishlist-sticky-sidebar-container"),d=f("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para"),s=f("#addonify-wishlist-table"),a=f("#addonify-wishlist-empty");if(a.html(""),0<i)0<s.length&&s.show(),0<d.length&&d.remove();else if(0<t.length&&f("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.sidebarEmptyWishlistText+"</p>"),f("#addonify-wishlist-page-form")){s.hide();let i="";addonifyWishlistJSObject.showPageLinkLabel&&(i="<a href='"+addonifyWishlistJSObject.pageLink+"'>"+addonifyWishlistJSObject.pageLinkLabel+"</a>"),a.html(`
                        <p id="addonify-empty-wishlist-para">`+addonifyWishlistJSObject.emptyWishlistText+i+`</p>
                    `)}}function h(i){i=f('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');let d=addonifyWishlistJSObject.initialAddToWishlistButtonLabel;i.each(function(i,t){f(t).attr("data-wishlist_label")&&(d=f(t).attr("data-wishlist_label")),f(t)&&!f(t).hasClass("addonify-custom-wishlist-btn")&&(f(t).removeClass("added-to-wishlist"),f(t).find("span.addonify-wishlist-btn-label").text(d),f(t).find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one"))}),f(".woocommerce-notices-wrapper")&&f(".woocommerce-notices-wrapper").remove()}f(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),a.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),r(addonifyWishlistJSObject.loginMessage,"","error")}),addonifyWishlistJSObject.proExists||a.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){i.preventDefault();var d,i=jQuery(this);i.hasClass("added-to-wishlist")?"1"===addonifyWishlistJSObject.removeAlreadyAddedProductFromWishlist?t(i):r(addonifyWishlistJSObject.popupAlreadyInWishlistText,i.data("product_name"),"success"):(d=i,i={action:addonifyWishlistJSObject.addToWishlistAction,id:d.data("product_id"),wishlist_id:d.data("wishlist_id"),nonce:addonifyWishlistJSObject.nonce},d.addClass("loading"),f.post(addonifyWishlistJSObject.ajax_url,i,function(i){var t;1==i.success?(f(document).trigger("addonify_added_to_wishlist",[{productID:d.data("product_id"),wishlistCount:i.wishlist_count,sidebarData:i.sidebar_data}]),c(i.wishlist_count),d.addClass("added-to-wishlist"),"none"!==addonifyWishlistJSObject.afterAddToWishlistAction&&r(i.message,d.data("product_name"),"success"),(t=f("#addonify-wishlist-undo-deleted-product-link"))&&t.parent("#addonify-wishlist-undo-deleted-product-text").remove(),0<i.wishlist_count&&(f("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),f("#addonify-wishlist__clear-all").show()),i.sidebar_data&&e.append(i.sidebar_data),d.hasClass("addonify-custom-wishlist-btn")||(d.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),d.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):r(i.message,d.data("product_name"),"error")},"json").always(function(){d.removeClass("loading"),d.hasClass("addonify_wishlist-cart-item-add-to-wishlist")&&d.hide()}))}),a.on("click","#addonify-wishlist-close-modal-btn, #addonify-wishlist-modal-wrapper",function(){a.removeClass("addonify-wishlist-modal-is-open")}),a.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){a.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),a.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){a.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),a.on("click","#addonify-wishlist-undo-deleted-product-link",function(i){i.preventDefault(),f("#addonify-wishlist-undo-deleted-product").html("");let t=f(this).data("product_id");i=f(this).data("wishlist_id");let d=f("button.addonify-add-to-wishlist-btn[data-product_id="+t+"]");f("ul.adfy-wishlist-sidebar-items-entry");let s=f("#addonify-wishlist-table");f("#addonify-wishlist-sticky-sidebar-container").block({message:null}),f("#addonify-wishlist-page-container").append(l);i={action:addonifyWishlistJSObject.addToWishlistAction,id:t,wishlist_id:i,nonce:addonifyWishlistJSObject.nonce};f.post(addonifyWishlistJSObject.ajax_url,i,function(i){1==i.success?(f(document).trigger("addonify_added_to_wishlist",[{productID:t,wishlistCount:i.wishlist_count,sidebarData:i.sidebar_data}]),f("#addonify-wishlist-notice").html(""),c(i.wishlist_count),0<d.length&&(d.addClass("added-to-wishlist"),d.hasClass("addonify-custom-wishlist-btn")||(d.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),d.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),0<i.wishlist_count&&(f("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),f("#addonify-wishlist__clear-all").show()),i.sidebar_data&&e.prepend(i.sidebar_data),0<s.length&&i.table_row_data&&s.find("tbody").prepend(i.table_row_data)):r(i.message,d.data("product_name"),"error")},"json").always(function(){f("#addonify-wishlist_spinner").remove(),f("#addonify-wishlist-sticky-sidebar-container").unblock()})}),a.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault(),t(f(this))}),f(document).on("added_to_cart",function(i,t,d,s){var a=s.data("product_id"),s=s.data("product_name");f('.adfy-wishlist-btn[data-product_id="'+a+'"]').removeClass("added-to-wishlist");let o="";(o=0<f("#addonify-wishlist-table").length?f("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+a+'"]'):f("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+a+'"]')).siblings().length;"1"===addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&0<o.length&&(0<o.length&&o.remove(),h(a),f(document).trigger("addonify_removed_from_wishlist",[{productID:a,productName:s,wishlistCount:t.addonify_wishlist_count,action:"added-to-cart"}])),t.addonify_wishlist_count<=0&&(f("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),f("#addonify-wishlist__clear-all").hide())}),f(document).on("click","#addonify-wishlist__clear-all",function(){var i={action:addonifyWishlistJSObject.emptyWishlistAction,nonce:addonifyWishlistJSObject.nonce};f("#addonify-wishlist-table").append(l),f.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success?(c(0),f("#addonify-wishlist__clear-all").hide(),f(document).trigger("addonify_wishlist_emptied")):r(i.message,"","failure",!1)}).always(function(){f("#addonify-wishlist-table #addonify-wishlist_spinner").remove()})}),f(document).on("addonify_removed_from_wishlist",function(i,s){f('.adfy-wishlist-btn[data-product_id="'+s.productID+'"]').removeClass("added-to-wishlist");let t="";if(0<f("#addonify-wishlist-sticky-sidebar-container").length&&(t=f("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+s.productID+'"]')).addClass("loading"),0<f("#addonify-wishlist-table").length&&(t=f("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+s.productID+'"]')).append(l),t&&t.remove(),s.wishlistCount<=0&&(f("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),f("#addonify-wishlist__clear-all").hide()),h(s.productID),c(s.wishlistCount),"added-to-cart"===s.action){var a=s.productName;if("1"===addonifyWishlistJSObject.removeProductAfterAddedtoCart){clearTimeout(n);let i=addonifyWishlistJSObject.addedtoCartNoticeText;i=i.replace("{product_name}",a),f("#addonify-wishlist-notice").html("<p>"+i+"</p>"),0<parseInt(addonifyWishlistJSObject.undoNoticeTimeout)&&(n=setTimeout(function(){f("#addonify-wishlist-notice").html("")},1e3*parseInt(addonifyWishlistJSObject.undoNoticeTimeout)))}}if("removed-from-wishlist"===s.action){var[a,s,o=""]=[s.productName,s.productID,s.wishlistID];clearTimeout(n);let i=addonifyWishlistJSObject.undoActionPrelabelText,t=(i=i.replace("{product_name}",a),addonifyWishlistJSObject.undoActionLabel),d=`
                <p>
                    `+i+`
                    <a href="#" id="addonify-wishlist-undo-deleted-product-link" data-product_id="`+s+'" data-wishlist_id="'+o+'"> '+t+` </a>
                </p>`;f("#addonify-wishlist-notice").html(d),0<parseInt(addonifyWishlistJSObject.undoNoticeTimeout)&&(n=setTimeout(function(){f("#addonify-wishlist-notice").html("")},1e3*parseInt(addonifyWishlistJSObject.undoNoticeTimeout)))}})})}(jQuery);