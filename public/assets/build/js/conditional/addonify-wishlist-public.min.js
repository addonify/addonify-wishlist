!function(v){"use strict";v(document).ready(function(){let o=v("body"),i,{ajax_url:t,nonce:n,addedToWishlistText:s,initialAddToWishlistButtonLabel:d,addToWishlistAction:e,removeFromWishlistAction:a,emptyWishlistAction:l,removeFromWishlistAfterAddedToCart:r,removeAlreadyAddedProductFromWishlist:c,afterAddToWishlistAction:h,wishlistPageURL:u,undoNoticeTimeout:f,loader:w,alreadyInWishlistModal:y}=addonifyWishlistJSObject;function m(i,o){v(document).trigger("addonify_adding_to_wishlist"),v.post(t,i,function(t){1==t.success?("redirect_to_wishlist_page"===h&&o.hasClass("addonify-add-to-wishlist-btn")&&(window.location.href=u),v(document).trigger("addonify_added_to_wishlist",[{productID:i.product_id,itemsCount:t.itemsCount}]),"show_popup_notice"===h&&o.hasClass("addonify-add-to-wishlist-btn")&&t.hasOwnProperty("modalContent")&&g(t.modalContent,t.productName),_(t,"added_to_wishlist")):t.hasOwnProperty("modalContent")?g(t.modalContent):t.hasOwnProperty("message")&&console.log(t.message)},"json").always(function(){b()})}function p(i){v(document).trigger("addonify_removing_from_wishlist"),v.post(t,i,function(t){t.success?(v(document).trigger("addonify_removed_from_wishlist",[{productID:i.product_id,itemsCount:t.itemsCount}]),t.hasOwnProperty("modalContent")&&g(t.modalContent),_(t,"removed_from_wishlist")):t.hasOwnProperty("modalContent")?g(t.modalContent):t.hasOwnProperty("message")&&console.log(t.message)},"json").always(function(){b()})}function _(t,i){0<t.itemsCount&&v("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),t.hasOwnProperty("sidebarContent")&&v("#addonify-wishlist-sidebar-items-wrapper")&&v("#addonify-wishlist-sidebar-items-wrapper").html(t.sidebarContent),t.hasOwnProperty("tableContent")&&v("#addonify-wishlist-page-items-wrapper")&&v("#addonify-wishlist-page-items-wrapper").html(t.tableContent),"removed_from_wishlist"===i&&t.hasOwnProperty("undoContent")&&v("#addonify-wishlist-notice")&&(v("#addonify-wishlist-notice").html(t.undoContent),v(document).trigger("addonify_wishlist_undo_notice_set")),"added_to_wishlist"===i&&v("#addonify-wishlist-notice").html("")}function g(t,i){""!==i&&t.includes("{product_name}")&&(t=t.replace("{product_name}",i)),v("#addonify-wishlist-modal-wrapper").replaceWith(t),o.toggleClass("addonify-wishlist-modal-is-open")}function C(){0<v("#addonify-wishlist-sticky-sidebar-container").length&&v("#addonify-wishlist-sticky-sidebar-container").append(w),0<v("#addonify-wishlist-page-container").length&&v("#addonify-wishlist-page-container").append(w)}function b(){v("#addonify-wishlist_spinner")&&v("#addonify-wishlist_spinner").remove()}({init:function(){this.wishlistButtonEventHandler(),this.undoEventsHandler(),this.wishlistEventHandler(),this.toggleBackgroundOverlays(),this.addedToCartEventHandler()},wishlistButtonEventHandler:function(){addonifyWishlistJSObject.hasOwnProperty("enabledAWP")||(o.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(t){t.preventDefault();t=jQuery(this);t.addClass("loading"),t.hasClass("added-to-wishlist")?"1"===c?p({action:a,product_id:t.data("product_id"),nonce:n,source:"add-to-wishlist"}):g(y,t.data("product_name")):m({action:e,product_id:t.data("product_id"),nonce:n},t),t.removeClass("loading")}),o.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(t){t.preventDefault();t=v(this);p({action:a,product_id:t.data("product_id"),nonce:n})}),v(document).on("click","#addonify-wishlist__clear-all",function(){C(),v.post(t,{action:l,nonce:n},function(t){t.success?(t.hasOwnProperty("tableContent")&&v("#addonify-wishlist-page-items-wrapper")&&v("#addonify-wishlist-page-items-wrapper").html(t.tableContent),t.hasOwnProperty("modalContent")&&g(t.modalContent),v(document).trigger("addonify_wishlist_emptied"),v("#addonify-wishlist-notice").html("")):t.hasOwnProperty("modalContent")?g(t.modalContent):t.hasOwnProperty("message")&&console.log(t.message)}).always(function(){b()})}))},undoEventsHandler:function(){addonifyWishlistJSObject.hasOwnProperty("enabledAWP")||o.on("click","#addonify-wishlist-undo-deleted-product-link",function(t){t.preventDefault();t=v(this);m({action:e,product_id:t.data("product_id"),nonce:n,source:t.data("source")},t)}),v(document).on("addonify_wishlist_undo_notice_set",function(t){clearTimeout(i),0<parseInt(f)&&(i=setTimeout(function(){v("#addonify-wishlist-notice").html("")},1e3*parseInt(f)))})},wishlistEventHandler:function(){v(document).on("addonify_adding_to_wishlist, addonify_removing_from_wishlist",function(t){C()}),v(document).on("addonify_added_to_wishlist",function(t,i){addonifyWishlistJSObject.hasOwnProperty("enabledAWP")||i.hasOwnProperty("productID")&&0<(i=v("button[data-product_id="+i.productID+"]")).length&&i.each(function(){var t=v(this);t.hasClass("added-to-wishlist")||t.addClass("added-to-wishlist"),!t.hasClass("addonify-custom-wishlist-btn")&&t.hasClass("addonify-add-to-wishlist-btn")&&(t.find("span.addonify-wishlist-btn-label").text(s),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))}),b()}),v(document).on("addonify_removed_from_wishlist",function(t,i){i.hasOwnProperty("productID")&&0<(i=v("[data-product_id="+i.productID+"]")).length&&i.each(function(){var t=v(this);t.hasClass("added-to-wishlist")&&t.removeClass("added-to-wishlist"),!t.hasClass("addonify-custom-wishlist-btn")&&t.hasClass("addonify-add-to-wishlist-btn")&&(t.find("span.addonify-wishlist-btn-label").text(d),t.find("i.icon.adfy-wishlist-icon").addClass("heart-o-style-one").removeClass("heart-style-one"))}),b()})},toggleBackgroundOverlays:function(){o.on("click","#addonify-wishlist-close-modal-btn, #addonify-wishlist-modal-overlay",function(){o.toggleClass("addonify-wishlist-modal-is-open")}),o.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button, #addonify-wishlist-sticky-sidebar-overlay",function(){o.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})},addedToCartEventHandler:function(){v(document).on("added_to_cart",function(t,i,o,n){_(i),"1"===r&&v(document).trigger("addonify_removed_from_wishlist",[{productID:n.data("product_id"),itemsCount:i.itemsCount}])})}}).init()})}(jQuery);