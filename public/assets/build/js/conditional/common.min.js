!function(n){n.fn.addonifyWishlistInit=function(d){const e=n("body");let s;const o={init:function(){o.toggleModalBackgrounds(),o.wishlistEvents(),o.undoEvent()},displayModal:function(i,s){for(const a in s)if(s.hasOwnProperty(a)){var t=s[a];if(""!==t&&void 0!==t)switch(a){case"product_name":i.includes("{product_name}")&&(i=i.replace("{product_name}",t));break;case"modal_message":i.includes("{modal_message}")&&(i=i.replace("{modal_message}",t));break;case"modal_icon":i.includes("{modal_icon}")&&(i=i.replace("{modal_icon}",t));break;case"wishlist_name":i.includes("{wishlist_name}")&&(i=i.replace("{wishlist_name}",t))}}n("#addonify-wishlist-modal-wrapper").replaceWith(i),e.hasClass("addonify-wishlist-modal-is-open")||e.toggleClass("addonify-wishlist-modal-is-open")},toggleModalBackgrounds:function(){e.on("click","#addonify-wishlist-close-modal-btn, #addonify-wishlist-modal-overlay",function(){e.toggleClass("addonify-wishlist-modal-is-open"),o.hideLoader()}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button, #addonify-wishlist-sticky-sidebar-overlay",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})},wishlistEvents:function(){n(document).on("addonify_adding_to_wishlist",function(){o.displayLoader()}),n(document).on("addonify_removing_from_wishlist",function(){o.displayLoader()}),n(document).on("addonify_added_to_wishlist",function(i,a){var s;o.renderUndoNotice(!1),a.hasOwnProperty("thisButton")&&"redirect_to_wishlist_page"===d.afterAddToWishlistAction&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")?window.location.href=d.wishlistPageURL:(a.hasOwnProperty("thisButton")&&a.hasOwnProperty("modalContentUpdateData")&&"show_popup_notice"===d.afterAddToWishlistAction&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")&&o.displayModal(d.addedToWishlistModal,a.modalContentUpdateData),a.hasOwnProperty("productID")&&0<(s=n("button[data-product_id="+a.productID+"]")).length&&s.each(function(){var i=n(this),s=a.hasOwnProperty("wishlistID")?a.wishlistID:"",t=a.hasOwnProperty("wishlistName")?a.wishlistName:"";o.updateWishlistButtons(i,"added-to-wishlist",s,t)}),a.hasOwnProperty("itemsCount")&&(o.updateWishlistSidebarElements(a.itemsCount),o.updateWishlistTableElements(a.itemsCount)))}),n(document).on("addonify_removed_from_wishlist",function(i,a){var s;a.hasOwnProperty("thisButton")&&a.hasOwnProperty("modalContentUpdateData")&&void 0!==a.thisButton&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")&&o.displayModal(d.removedFromWishlistModal,a.modalContentUpdateData),a.hasOwnProperty("productID")&&(0<(s=n("[data-product_id="+a.productID+"]")).length&&s.each(function(){var i=n(this),s=a.hasOwnProperty("wishlistID")?a.wishlistID:"",t=a.hasOwnProperty("wishlistName")?a.wishlistName:"";o.updateWishlistButtons(i,"removed-from-wishlist",s,t)}),o.removeWishlistSidebarTableProductRow(a.productID)),a.hasOwnProperty("itemsCount")&&(o.updateWishlistSidebarElements(a.itemsCount),o.updateWishlistTableElements(a.itemsCount)),a.hasOwnProperty("productName")&&o.renderUndoNotice(!0,a.productName)})},updateWishlistButtons:function(s,i,t="",a=""){if("added-to-wishlist"===i||"already-in-wishlist"===i){if(s.hasClass("added-to-wishlist")||s.addClass("added-to-wishlist"),!s.hasClass("addonify-custom-wishlist-btn")&&s.hasClass("addonify-add-to-wishlist-btn"))if(s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"),s.hasClass("addonify-wishlist-save-for-later"))s.find("span.addonify-wishlist-btn-label").text(d.savedForLaterButtonLabel);else if("added-to-wishlist"===i){let i=d.addedToWishlistButtonLabel;i.includes("{wishlist_name}")&&(i=i.replace("{wishlist_name}",a)),s.find("span.addonify-wishlist-btn-label").text(i)}else{let i=d.alreadyInWishlistButtonLabel;i.includes("{wishlist_name}")&&(i=i.replace("{wishlist_name}",a)),s.find("span.addonify-wishlist-btn-label").text(i)}""!==t&&s.attr("data-wishlist_id",t),""!==a&&s.attr("data-wishlist_name",a)}"removed-from-wishlist"===i&&(s.hasClass("added-to-wishlist")&&s.removeClass("added-to-wishlist"),!s.hasClass("addonify-custom-wishlist-btn")&&s.hasClass("addonify-add-to-wishlist-btn")&&(s.find("i.icon.adfy-wishlist-icon").addClass("heart-o-style-one").removeClass("heart-style-one"),s.hasClass("addonify-wishlist-save-for-later")?s.find("span.addonify-wishlist-btn-label").text(d.saveForLaterButtonLabel):s.find("span.addonify-wishlist-btn-label").text(d.initialAddToWishlistButtonLabel)),void 0!==(t=s.attr("data-wishlist_id"))&&!1!==t&&s.removeAttr("data-wishlist_id"),void 0!==(a=s.attr("data-wishlist_name")))&&!1!==a&&s.removeAttr("data-wishlist_name")},addWishlistSidebarProductRow:function(i){var s=n("#addonify-wishlist-sidebar-ul");0<s.length&&s.prepend(i)},addWishlistTableProductRow:function(i){var s=n("#adfy-wishlist-table-body");0<s.length&&s.prepend(i)},removeWishlistSidebarTableProductRow:function(i){let s="";0<n("#addonify-wishlist-sticky-sidebar-container").length&&(s=n("#adfy-wishlist-sidebar-product-row-"+i)),0<(s=0<n("#addonify-wishlist-table").length?n("#adfy-wishlist-table-product-row-"+i):s).length&&s.remove()},updateWishlistSidebarElements:function(i){var s;0<n("#addonify-wishlist-sticky-sidebar-container").length&&(0<(s=n("#addonify-wishlist-show-sidebar-btn")).length&&(0<i?s.removeClass("hidden"):s.addClass("hidden")),0<(s=n("#adfy-wishlist-empty-sidebar-para")).length)&&(0<i?s.removeClass("adfy-wishlist-show").addClass("adfy-wishlist-hide"):s.removeClass("adfy-wishlist-hide").addClass("adfy-wishlist-show"))},updateWishlistTableElements:function(i){var s,t;0<n("#addonify-wishlist-page-container").length&&(s=n("#addonify-wishlist-page-form"),t=n("#addonify-empty-wishlist-para"),0<i?(s.addClass("adfy-wishlist-show").removeClass("adfy-wishlist-hide"),t.addClass("adfy-wishlist-hide").removeClass("adfy-wishlist-show")):(s.addClass("adfy-wishlist-hide").removeClass("adfy-wishlist-show"),t.addClass("adfy-wishlist-show").removeClass("adfy-wishlist-hide")))},undoEvent:function(){n(document).on("addonify_wishlist_undo_notice_set",function(i){clearTimeout(s),0<parseInt(d.undoNoticeTimeout)&&(s=setTimeout(function(){n("#addonify-wishlist-notice").html("")},1e3*parseInt(d.undoNoticeTimeout)))})},displayLoader:function(){0<n("#addonify-wishlist-sticky-sidebar-container").length&&n("#addonify-wishlist-sticky-sidebar-container").append(d.loader),0<n("#addonify-wishlist-page-container").length&&n("#addonify-wishlist-page-container").append(d.loader)},hideLoader:function(){n("#addonify-wishlist_spinner")&&n("#addonify-wishlist_spinner").remove()},displayModalLoader:function(){0<n(".addonify-wishlist-modal-btns").length&&n(".addonify-wishlist-modal-btns").append(d.loader)},renderUndoNotice:function(i=!1,s=""){var t=n("#addonify-wishlist-notice");if(0<t.length)if(i){let i=d.productRemovalUndoNotice;i.includes("{product_name}")&&""!==s&&void 0!==s&&(i=i.replace("{product_name}",s)),t.html(i),n(document).trigger("addonify_wishlist_undo_notice_set")}else t.html("")}};return o}}(jQuery);