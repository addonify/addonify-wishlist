!function(o){o.fn.addonifyWishlistInit=function(d){const e=o("body");let i;const n={init:function(){n.toggleModalBackgrounds(),n.wishlistEvents(),n.undoEvent()},displayModal:function(t){let i=d.modalTemplate;for(const a in t){var s;t.hasOwnProperty(a)&&(s=t[a],i=i.includes(`{${a}}`)?i.replace(`{${a}}`,s):i.replace(`{${a}}`,""))}o("#addonify-wishlist-modal-wrapper").replaceWith(i),e.hasClass("addonify-wishlist-modal-is-open")||e.toggleClass("addonify-wishlist-modal-is-open")},toggleModalBackgrounds:function(){e.on("click","#addonify-wishlist-close-modal-btn, #addonify-wishlist-modal-overlay",function(){e.toggleClass("addonify-wishlist-modal-is-open"),n.hideLoader()}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button, #addonify-wishlist-sticky-sidebar-overlay",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})},wishlistEvents:function(){o(document).on("addonify_adding_to_wishlist",function(){n.displayLoader()}),o(document).on("addonify_removing_from_wishlist",function(){n.displayLoader()}),o(document).on("addonify_added_to_wishlist",function(t,a){var i;n.renderUndoNotice(!1),a.hasOwnProperty("thisButton")&&"redirect_to_wishlist_page"===d.afterAddToWishlistAction&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")?window.location.href=d.wishlistPageURL:(a.hasOwnProperty("thisButton")&&a.hasOwnProperty("modalContentUpdateData")&&"show_popup_notice"===d.afterAddToWishlistAction&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")&&n.displayModal(a.modalContentUpdateData),a.hasOwnProperty("productID")&&0<(i=o("button[data-product_id="+a.productID+"]")).length&&i.each(function(){var t=o(this),i=a.hasOwnProperty("wishlistID")?a.wishlistID:"",s=a.hasOwnProperty("wishlistName")?a.wishlistName:"";n.updateWishlistButtons(t,"added-to-wishlist",i,s)}),a.hasOwnProperty("itemsCount")&&(n.updateWishlistSidebarElements(a.itemsCount),n.updateWishlistTableElements(a.itemsCount)))}),o(document).on("addonify_removed_from_wishlist",function(t,a){var i;a.hasOwnProperty("thisButton")&&a.hasOwnProperty("modalContentUpdateData")&&void 0!==a.thisButton&&a.thisButton.hasClass("addonify-add-to-wishlist-btn")&&n.displayModal(a.modalContentUpdateData),a.hasOwnProperty("productID")&&(0<(i=o("[data-product_id="+a.productID+"]")).length&&i.each(function(){var t=o(this),i=a.hasOwnProperty("wishlistID")?a.wishlistID:"",s=a.hasOwnProperty("wishlistName")?a.wishlistName:"";n.updateWishlistButtons(t,"removed-from-wishlist",i,s)}),n.removeWishlistSidebarTableProductRow(a.productID)),a.hasOwnProperty("itemsCount")&&(n.updateWishlistSidebarElements(a.itemsCount),n.updateWishlistTableElements(a.itemsCount)),a.hasOwnProperty("productName")&&n.renderUndoNotice(!0,a.productName)}),o(document).on("addonify_wishlist_emptied",function(t){t.preventDefault(),n.renderUndoNotice(!1),n.updateWishlistSidebarElements(0),n.updateWishlistTableElements(0)})},updateWishlistButtons:function(i,t,s="",a=""){if("added-to-wishlist"===t||"already-in-wishlist"===t){if(i.hasClass("added-to-wishlist")||i.addClass("added-to-wishlist"),!i.hasClass("addonify-custom-wishlist-btn")&&i.hasClass("addonify-add-to-wishlist-btn"))if(i.find("span.adfy-wishlist-btn-icon").html(d.addedToWishlistButtonIcon),i.hasClass("addonify-wishlist-save-for-later"))i.find("span.addonify-wishlist-btn-label").text(d.savedForLaterButtonLabel);else if("added-to-wishlist"===t){let t=d.addedToWishlistButtonLabel;t.includes("{wishlist_name}")&&(t=t.replace("{wishlist_name}",a)),i.data("added_to_wishlist_button_label")?i.find("span.addonify-wishlist-btn-label").text(i.data("added_to_wishlist_button_label")):i.find("span.addonify-wishlist-btn-label").text(t)}else{let t=d.alreadyInWishlistButtonLabel;t.includes("{wishlist_name}")&&(t=t.replace("{wishlist_name}",a)),i.data("already_in_wishlist_button_label")?i.find("span.addonify-wishlist-btn-label").text(i.data("already_in_wishlist_button_label")):i.find("span.addonify-wishlist-btn-label").text(t)}""!==s&&i.attr("data-wishlist_id",s),""!==a&&i.attr("data-wishlist_name",a)}"removed-from-wishlist"===t&&(i.hasClass("added-to-wishlist")&&i.removeClass("added-to-wishlist"),!i.hasClass("addonify-custom-wishlist-btn")&&i.hasClass("addonify-add-to-wishlist-btn")&&(i.find("span.adfy-wishlist-btn-icon").html(d.addToWishlistButtonIcon),i.hasClass("addonify-wishlist-save-for-later")?i.find("span.addonify-wishlist-btn-label").text(d.saveForLaterButtonLabel):i.hasClass("adfy-wishlist-shortcode-btn")&&i.data("button_label")?i.find("span.addonify-wishlist-btn-label").text(i.data("button_label")):i.find("span.addonify-wishlist-btn-label").text(d.initialAddToWishlistButtonLabel)),void 0!==(s=i.attr("data-wishlist_id"))&&!1!==s&&i.removeAttr("data-wishlist_id"),void 0!==(a=i.attr("data-wishlist_name")))&&!1!==a&&i.removeAttr("data-wishlist_name")},addWishlistSidebarProductRow:function(t){var i=o("#addonify-wishlist-sidebar-ul");0<i.length&&i.prepend(t)},addWishlistTableProductRow:function(t){var i=o("#adfy-wishlist-table-body");0<i.length&&i.prepend(t)},removeWishlistSidebarTableProductRow:function(t){let i="";0<o("#addonify-wishlist-sticky-sidebar-container").length&&(i=o("#adfy-wishlist-sidebar-product-row-"+t)),0<(i=0<o("#addonify-wishlist-table").length?o("#adfy-wishlist-table-product-row-"+t):i).length&&i.remove()},updateWishlistSidebarElements:function(t){var i;0<o("#addonify-wishlist-sticky-sidebar-container").length&&(0<(i=o("#addonify-wishlist-show-sidebar-btn")).length&&(0<t?i.removeClass("hidden"):i.addClass("hidden")),0<(i=o("#adfy-wishlist-empty-sidebar-para")).length)&&(0<t?i.removeClass("adfy-wishlist-show").addClass("adfy-wishlist-hide"):i.removeClass("adfy-wishlist-hide").addClass("adfy-wishlist-show"))},updateWishlistTableElements:function(t){var i,s;0<o("#addonify-wishlist-page-container").length&&(i=o("#addonify-wishlist-page-form"),s=o("#addonify-empty-wishlist-para"),0<t?(i.addClass("adfy-wishlist-show").removeClass("adfy-wishlist-hide"),s.addClass("adfy-wishlist-hide").removeClass("adfy-wishlist-show")):(i.addClass("adfy-wishlist-hide").removeClass("adfy-wishlist-show"),s.addClass("adfy-wishlist-show").removeClass("adfy-wishlist-hide")))},undoEvent:function(){o(document).on("addonify_wishlist_undo_notice_set",function(t){clearTimeout(i),0<parseInt(d.undoNoticeTimeout)&&(i=setTimeout(function(){o("#addonify-wishlist-notice").html("")},1e3*parseInt(d.undoNoticeTimeout)))})},displayLoader:function(){0<o("#addonify-wishlist-sticky-sidebar-container").length&&o("#addonify-wishlist-sticky-sidebar-container").append(d.loader),0<o("#addonify-wishlist-page-container").length&&o("#addonify-wishlist-page-container").append(d.loader)},hideLoader:function(){o("#addonify-wishlist_spinner")&&o("#addonify-wishlist_spinner").remove()},displayModalLoader:function(){0<o(".addonify-wishlist-modal-btns").length&&o(".addonify-wishlist-modal-btns").append(d.loader)},renderUndoNotice:function(t=!1,i=""){var s=o("#addonify-wishlist-notice");if(0<s.length)if(t){let t=d.productRemovalUndoNotice;t.includes("{product_name}")&&""!==i&&void 0!==i&&(t=t.replace("{product_name}",i)),s.html(t),o(document).trigger("addonify_wishlist_undo_notice_set")}else s.html("")}};return n}}(jQuery);