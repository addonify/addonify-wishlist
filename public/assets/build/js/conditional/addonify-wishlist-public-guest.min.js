!function(R){"use strict";R(document).ready(function(){let e=R("body"),a=R("#addonify-wishlist-modal-response"),s="addonify-wishlist",n,o='<div id="addonify-wishlist_spinner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11h5v2H2zm15 0h5v2h-5zm-6 6h2v5h-2zm0-15h2v5h-2zM4.222 5.636l1.414-1.414 3.536 3.536-1.414 1.414zm15.556 12.728-1.414 1.414-3.536-3.536 1.414-1.414zm-12.02-3.536 1.414 1.414-3.536 3.536-1.414-1.414zm7.07-7.071 3.536-3.535 1.414 1.415-3.536 3.535z"></path></svg></div>',l=(R(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),"Default Wishlist"),{requireLogin:i,addedToWishlistButtonLabel:d,loginMessage:t,loginRequiredMessage:r,ajax_url:h,nonce:c,removeAlreadyAddedProductFromWishlist:f,popupAlreadyInWishlistText:w,removeFromWishlistAfterAddedToCart:u,afterAddToWishlistAction:y,wishlistPageURL:p,addToWishlistActionSideBar:m,popupAddedToWishlistText:b,addedToWishlistText:_,undoActionPrelabelText:g,undoActionLabel:v,undoNoticeTimeout:C,initialAddToWishlistButtonLabel:P,sidebarEmptyWishlistText:E,showPageLinkLabel:J,pageLink:N,pageLinkLabel:F,emptyWishlistText:M,thisSiteUrl:k}=addonifyWishlistJSObject;function x(i){let t;var d=parseInt(i.val()?i.val():i.data("product_id"));0<R("#addonify-wishlist-sticky-sidebar-container").length&&(t=R("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<R("#addonify-wishlist-table").length&&(t=R("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(o);let s;0<i.closest("li.addonify-wishlist-sidebar-item").length&&(s=i.closest("li.addonify-wishlist-sidebar-item")).addClass("loading");var e=D();-1<e.indexOf(d)&&(e.splice(e.indexOf(d),1),O(e)),R(document).trigger("addonify_removed_from_wishlist",[{productID:d,wishlistCount:e.length}]),e.length<=0&&(R("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),R("#addonify-wishlist__clear-all").hide()),A(d),I(e.length),s&&1===s.length&&s.remove(),t&&t.remove(),i.hasClass("addonify_wishlist-cart-item-add-to-wishlist")&&i.removeClass("adfy-wishlist-hide"),T(i.data("product_name"),d)}function T(i,t,d=""){clearTimeout(n);let s=g;s=s.replace("{product_name}",i);i=v,t=`
                <p id="addonify-wishlist-undo-deleted-product-text">
                    `+s+`
                    <a href="#" id="addonify-wishlist-undo-deleted-product-link" data-product_id="`+t+'" data-wishlist_id="'+d+'"> '+i+` </a>
                </p>`;R("#addonify-wishlist-undo-deleted-product").html(t),0<parseInt(C)&&(n=setTimeout(function(){R("#addonify-wishlist-undo-deleted-product").html("")},1e3*parseInt(C)))}function A(i){i=R('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');let d=P;i.each(function(i,t){R(t).attr("data-wishlist_label")&&(d=R(t).attr("data-wishlist_label")),R(t)&&!R(t).hasClass("addonify-custom-wishlist-btn")&&(R(t).removeClass("added-to-wishlist"),R(t).find("span.addonify-wishlist-btn-label").text(d),R(t).find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one"))}),R(".woocommerce-notices-wrapper")&&R(".woocommerce-notices-wrapper").remove()}function W(i,t,d,s=!0){s?R(".addonify-view-wishlist-btn").css("display","block"):R(".addonify-view-wishlist-btn").css("display","none"),R(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),d&&R(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+d).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),e.addClass("addonify-wishlist-modal-is-open")}function I(i){var t=R("#addonify-wishlist-sticky-sidebar-container"),d=R("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para"),s=R("#addonify-wishlist-table"),e=R("#addonify-wishlist-empty");if(e.html(""),0<i)0<s.length&&s.show(),0<d.length&&d.remove();else if(0<t.length&&R("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+E+"</p>"),R("#addonify-wishlist-page-form")){s.hide();let i="";J&&(i="<a href='"+N+"'>"+F+"</a>"),e.html(`
                        <p id="addonify-empty-wishlist-para">`+M+i+`</p>
                    `)}}function D(d=!1){d=d||l;let s=[],e=B(L(z("product_ids")));return e&&e.forEach(function(i,t){return"object"!=typeof i?(s=e,!1):i.name===d?(s=e[t].product_ids,!1):void 0}),s}function O(d,s=!1){s=s||l;let e=B(L(z("product_ids")));var i,t;e?(e.forEach(function(i,t){return"object"!=typeof i?(e=d,!1):i.name===s?(e[t].product_ids=d,!1):void 0}),j("product_ids",e)):(e=[],t=S(),i=(new Date).getTime(),t={id:t,name:s,visibility:"private",created_at:i,product_ids:d},e.push(t),j("product_ids",e),j("wishlist_id",S()+1))}function S(){var i=z("wishlist_id");return i?parseInt(i):0}function j(i,t){"object"==typeof t&&(t=JSON.stringify(t));var d=k;localStorage.setItem(s+"_"+d+"_"+i,t)}function L(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}function z(i){var t=k;return localStorage.getItem(s+"_"+t+"_"+i)}function B(d){if(null===d||"object"!=typeof d)return!1;{let t=new Array;var i=Object.keys(d);return 0<i.length&&i.forEach(function(i){t[i]=d[i]}),t}}({init:function(){let t=D();t.forEach(function(i,t){i=R('.adfy-wishlist-btn[data-product_id="'+i+'"]');i.find("span").html(d),i.find("i").addClass("heart-style-one").removeClass("heart-o-style-one"),i.addClass("added-to-wishlist")}),R(".addonify_wishlist-cart-item-add-to-wishlist").each(function(){var i=parseInt(R(this).data("product_id"));t.includes(i)||R(this).removeClass("adfy-wishlist-hide")}),0<e.find("div#addonify-wishlist-page-container").length&&(i?R("div#addonify-wishlist-page-container").html("<h3>"+r+"</h3>"):(R("div#addonify-wishlist-page-container").html(o),R.post(h,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(D()),nonce:c},function(i){e.find("div#addonify-wishlist-page-container").replaceWith(i)}))),0!==R("#addonify-wishlist-table").length||i||R.post(h,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(D()),nonce:c},function(i){e.find("#addonify-wishlist-sticky-sidebar-container").replaceWith(i),0<D().length&&R("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")}),this.onAddToWishlist(),this.onRemoveFromWishlist(),this.onAddToCart(),this.onSideBarAndPopup()},onAddToWishlist:function(){e.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){i.preventDefault();i=R(this);if(i.hasClass("added-to-wishlist"))f?x(i):W(w,i.data("product_name"));else{var d=parseInt(i.data("product_id")),s=D();if(-1===s.indexOf(d)){if(s.push(d),O(s),"redirect_to_wishlist_page"===y)return void(window.location.href=p);let t="";R.post(h,{action:m,id:d,nonce:c},function(i){i&&(R("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data),t=i.sidebar_data)});d=R("#addonify-wishlist-undo-deleted-product-link");d&&d.parent("#addonify-wishlist-undo-deleted-product-text").remove(),i.addClass("added-to-wishlist"),I(s.length),"none"!==y&&W(b,i.data("product_name"),"success"),0<s.length&&(R("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),R("#addonify-wishlist__clear-all").show()),i.hasClass("addonify-custom-wishlist-btn")||(i.find("span.addonify-wishlist-btn-label").text(_),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one")),R(document).trigger("addonify_added_to_wishlist",[{productID:i.data("product_id"),wishlistCount:s.length,sidebarData:t}])}else f&&x(i);i.hasClass("addonify_wishlist-cart-item-add-to-wishlist")&&i.addClass("adfy-wishlist-hide")}}),e.on("click","#addonify-wishlist-undo-deleted-product-link",function(i){i.preventDefault(),R("#addonify-wishlist-undo-deleted-product").html("");var i=R(this).data("product_id"),d=R(this).data("wishlist_id"),s=R("button.addonify-add-to-wishlist-btn[data-product_id="+i+"]");let e=R("ul.adfy-wishlist-sidebar-items-entry"),a=R("#addonify-wishlist-table");R("#addonify-wishlist-sticky-sidebar-container").block({message:null}),R("#addonify-wishlist-page-container").append(o);var n=D();if(-1===n.indexOf(i))if(n.push(i),O(n),"redirect_to_wishlist_page"===y)window.location.href=p;else{let t="";R.post(h,{action:m,id:i,wishlist_id:d,nonce:c},function(i){i&&(e.prepend(i.sidebar_data),t=i.sidebar_data,0<a.length)&&i.table_row_data&&a.find("tbody").prepend(i.table_row_data)}).always(function(){R("#addonify-wishlist_spinner").remove(),R("#addonify-wishlist-sticky-sidebar-container").unblock()}),0<s.length&&(s.addClass("added-to-wishlist"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(_),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),I(n.length),0<n.length&&(R("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),R("#addonify-wishlist__clear-all").show()),R(document).trigger("addonify_added_to_wishlist",[{productID:i,wishlistCount:n.length,sidebarData:t}])}else R("#addonify-wishlist_spinner").remove(),R("#addonify-wishlist-sticky-sidebar-container").unblock(),f&&x(s)})},onRemoveFromWishlist:function(){e.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault(),x(R(this))}),R(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault(),x(R(this))}),R(document).on("click","#addonify-wishlist__clear-all",function(){O([]),I(D().length),R("#addonify-wishlist__clear-all").hide(),R(document).trigger("addonify_wishlist_emptied")}),"1"===u&&R(document).on("click",".product_type_simple.add_to_cart_button",function(i){var t=R(this).data("product_id"),d=D();-1<d.indexOf(parseInt(t))&&(d.splice(d.indexOf(parseInt(t)),1),O(d))}),R(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t;var i=D(),d=parseInt(R(this).val());0<R(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=R(this).closest("tr.addonify-wishlist-table-product-row")),-1<i.indexOf(d)&&(i.splice(i.indexOf(d),1),O(i)),1===t.length&&t.remove(),i.length<=0&&(console.log("here"),R("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),R("#addonify-wishlist__clear-all").hide()),I(i.length),T(R(this).data("product_name"),d)})},onAddToCart:function(){R(document).on("added_to_cart",function(i,t,d,s){var e=s.data("product_id");let a="";var n=(a=0<R("#addonify-wishlist-table").length?R("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+e+'"]'):R("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+e+'"]')).siblings().length;"1"===u&&0<a.length&&(0<a.length&&a.remove(),A(e),I(n),R(document).trigger("addonify_removed_from_wishlist",[{productID:e,wishlist_count:D().length}])),s.parent().hasClass("addonify-wishlist-table-button")&&W("{product_name} added to cart",a.data("product_name"),!1,!1),D().length<=0&&(R("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),R("#addonify-wishlist__clear-all").hide())})},onSideBarAndPopup:function(){e.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),W(t,"","error")}),e.on("click","#addonify-wishlist-close-modal-btn",function(){e.removeClass("addonify-wishlist-modal-is-open")}),e.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){e.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})}}).init()})}(jQuery);