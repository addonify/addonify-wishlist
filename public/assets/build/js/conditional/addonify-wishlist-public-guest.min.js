!function(q){"use strict";q(document).ready(function(){let e=q("body"),a=q("#addonify-wishlist-modal-response"),s="addonify-wishlist",n,o='<div id="addonify-wishlist_spinner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11h5v2H2zm15 0h5v2h-5zm-6 6h2v5h-2zm0-15h2v5h-2zM4.222 5.636l1.414-1.414 3.536 3.536-1.414 1.414zm15.556 12.728-1.414 1.414-3.536-3.536 1.414-1.414zm-12.02-3.536 1.414 1.414-3.536 3.536-1.414-1.414zm7.07-7.071 3.536-3.535 1.414 1.415-3.536 3.535z"></path></svg></div>',l=(q(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),"Default Wishlist"),{requireLogin:i,addedToWishlistButtonLabel:d,loginMessage:t,loginRequiredMessage:r,ajax_url:c,nonce:h,removeAlreadyAddedProductFromWishlist:f,popupAlreadyInWishlistText:u,emptiedWishlistText:w,removeFromWishlistAfterAddedToCart:p,afterAddToWishlistAction:y,wishlistPageURL:m,addToWishlistActionSideBar:b,popupAddedToWishlistText:_,addedToWishlistText:g,undoActionPrelabelText:v,undoActionLabel:C,undoNoticeTimeout:P,initialAddToWishlistButtonLabel:E,sidebarEmptyWishlistText:J,showPageLinkLabel:N,pageLink:F,pageLinkLabel:M,emptyWishlistText:R,thisSiteUrl:k}=addonifyWishlistJSObject;function x(i){let t;var d=parseInt(i.val()?i.val():i.data("product_id"));0<q("#addonify-wishlist-sticky-sidebar-container").length&&(t=q("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<q("#addonify-wishlist-table").length&&(t=q("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(o);let s;0<i.closest("li.addonify-wishlist-sidebar-item").length&&(s=i.closest("li.addonify-wishlist-sidebar-item")).addClass("loading");var e=D();-1<e.indexOf(d)&&(e.splice(e.indexOf(d),1),O(e)),q(document).trigger("addonify_removed_from_wishlist",[{productID:d,wishlistCount:e.length}]),e.length<=0&&(q("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),q("#addonify-wishlist__clear-all").hide()),I(d),A(e.length),s&&1===s.length&&s.remove(),t&&t.remove(),T(i.data("product_name"),d)}function T(i,t,d=""){clearTimeout(n);let s=v;s=s.replace("{product_name}",i);i=C,t=`
                <p id="addonify-wishlist-undo-deleted-product-text">
                    `+s+`
                    <a href="#" id="addonify-wishlist-undo-deleted-product-link" data-product_id="`+t+'" data-wishlist_id="'+d+'"> '+i+` </a>
                </p>`;q("#addonify-wishlist-undo-deleted-product").html(t),n=setTimeout(function(){q("#addonify-wishlist-undo-deleted-product").html("")},1e3*parseInt(P))}function I(i){i=q('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');i&&!i.hasClass("addonify-custom-wishlist-btn")&&(i.removeClass("added-to-wishlist"),i.find("span.addonify-wishlist-btn-label").text(E),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one")),q(".woocommerce-notices-wrapper")&&q(".woocommerce-notices-wrapper").remove()}function W(i,t,d,s=!0){s?q(".addonify-view-wishlist-btn").css("display","block"):q(".addonify-view-wishlist-btn").css("display","none"),q(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),d&&q(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+d).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),e.addClass("addonify-wishlist-modal-is-open")}function A(i){var t=q("#addonify-wishlist-sticky-sidebar-container"),d=q("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para"),s=q("#addonify-wishlist-table"),e=q("#addonify-wishlist-empty");if(e.html(""),0<i)0<s.length&&s.show(),0<d.length&&d.remove();else if(0<t.length&&q("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+J+"</p>"),q("#addonify-wishlist-page-form")){s.hide();let i="";N&&(i="<a href='"+F+"'>"+M+"</a>"),e.html(`
                        <p id="addonify-empty-wishlist-para">`+R+i+`</p>
                    `)}}function D(d=!1){d=d||l;let s=[],e=B(S(z("product_ids")));return e&&e.forEach(function(i,t){return"object"!=typeof i?(s=e,!1):i.name===d?(s=e[t].product_ids,!1):void 0}),s}function O(d,s=!1){s=s||l;let e=B(S(z("product_ids")));var i,t;e?(e.forEach(function(i,t){return"object"!=typeof i?(e=d,!1):i.name===s?(e[t].product_ids=d,!1):void 0}),L("product_ids",e)):(e=[],t=j(),i=(new Date).getTime(),t={id:t,name:s,visibility:"private",created_at:i,product_ids:d},e.push(t),L("product_ids",e),L("wishlist_id",j()+1))}function j(){var i=z("wishlist_id");return i?parseInt(i):0}function L(i,t){"object"==typeof t&&(t=JSON.stringify(t));var d=k;localStorage.setItem(s+"_"+d+"_"+i,t)}function S(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}function z(i){var t=k;return localStorage.getItem(s+"_"+t+"_"+i)}function B(d){if(null===d||"object"!=typeof d)return!1;{let t=new Array;var i=Object.keys(d);return 0<i.length&&i.forEach(function(i){t[i]=d[i]}),t}}({init:function(){D().forEach(function(i,t){i=q('.adfy-wishlist-btn[data-product_id="'+i+'"]');i.find("span").html(d),i.find("i").addClass("heart-style-one").removeClass("heart-o-style-one")}),0<e.find("div#addonify-wishlist-page-container").length&&(i?q("div#addonify-wishlist-page-container").html("<h3>"+r+"</h3>"):(q("div#addonify-wishlist-page-container").html(o),q.post(c,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(D()),nonce:h},function(i){e.find("div#addonify-wishlist-page-container").replaceWith(i)}))),0!==q("#addonify-wishlist-table").length||i||q.post(c,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(D()),nonce:h},function(i){e.find("#addonify-wishlist-sticky-sidebar-container").replaceWith(i),0<D().length&&q("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")}),this.onAddToWishlist(),this.onRemoveFromWishlist(),this.onAddToCart(),this.onSideBarAndPopup()},onAddToWishlist:function(){e.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){i.preventDefault();i=q(this);if(i.hasClass("added-to-wishlist"))f?x(i):W(u,i.data("product_name"));else{var t=i.data("product_id"),d=D();if(-1===d.indexOf(t))if(d.push(t),O(d),"redirect_to_wishlist_page"===y)window.location.href=m;else{let t="";q.post(c,{action:b,id:i.data("product_id"),nonce:h},function(i){i&&(q("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data),t=i.sidebar_data)}),i.addClass("added-to-wishlist"),A(d.length),"none"!==y&&W(_,i.data("product_name"),"success"),0<d.length&&(q("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),q("#addonify-wishlist__clear-all").show()),i.hasClass("addonify-custom-wishlist-btn")||(i.find("span.addonify-wishlist-btn-label").text(g),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one")),q(document).trigger("addonify_added_to_wishlist",[{productID:i.data("product_id"),wishlistCount:d.length,sidebarData:t}])}else f&&x(i)}}),e.on("click","#addonify-wishlist-undo-deleted-product-link",function(i){i.preventDefault(),q("#addonify-wishlist-undo-deleted-product").html("");var i=q(this).data("product_id"),d=q(this).data("wishlist_id"),s=q("button.addonify-add-to-wishlist-btn[data-product_id="+i+"]");let e=q("ul.adfy-wishlist-sidebar-items-entry"),a=q("#addonify-wishlist-table");q("#addonify-wishlist-sticky-sidebar-container").block({message:null}),q("#addonify-wishlist-page-container").append(o);var n=D();if(-1===n.indexOf(i))if(n.push(i),O(n),"redirect_to_wishlist_page"===y)window.location.href=m;else{let t="";q.post(c,{action:b,id:i,wishlist_id:d,nonce:h},function(i){i&&(e.prepend(i.sidebar_data),t=i.sidebar_data,0<a.length)&&i.table_row_data&&a.find("tbody").prepend(i.table_row_data)}).always(function(){q("#addonify-wishlist_spinner").remove(),q("#addonify-wishlist-sticky-sidebar-container").unblock()}),0<s.length&&(s.addClass("added-to-wishlist"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(g),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),A(n.length),0<n.length&&(q("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),q("#addonify-wishlist__clear-all").show()),q(document).trigger("addonify_added_to_wishlist",[{productID:i,wishlistCount:n.length,sidebarData:t}])}else q("#addonify-wishlist_spinner").remove(),q("#addonify-wishlist-sticky-sidebar-container").unblock(),f&&x(s)})},onRemoveFromWishlist:function(){e.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault(),x(q(this))}),q(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault(),x(q(this))}),q(document).on("click","#addonify-wishlist__clear-all",function(){O([]),A(D().length),W(w,"","success",!1),q("#addonify-wishlist__clear-all").hide(),q(document).trigger("addonify_wishlist_emptied")}),"1"===p&&q(document).on("click",".product_type_simple.add_to_cart_button",function(i){var t=q(this).data("product_id"),d=D();-1<d.indexOf(parseInt(t))&&(d.splice(d.indexOf(parseInt(t)),1),O(d))}),q(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t;var i=D(),d=parseInt(q(this).val());0<q(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=q(this).closest("tr.addonify-wishlist-table-product-row")),-1<i.indexOf(d)&&(i.splice(i.indexOf(d),1),O(i)),1===t.length&&t.remove(),A(i.length),T(q(this).data("product_name"),d)})},onAddToCart:function(){e.on("click",".addonify-wishlist-ajax-add-to-cart",function(i){i.preventDefault();let t=q(this);i={action:"addonify_add_to_cart_from_wishlist",productId:t.val(),nonce:h};let d="";t.hasClass("addonify-wishlist-sidebar-button")&&(d=q("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(d=t.hasClass("addonify-wishlist-table-button")?q("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):d)&&d.addClass("loading"),q.post(c,i,function(i){i.success&&(q(document).trigger("addonify_added_to_cart",[{productID:t.data("product_id")}]),t.hasClass("addonify-wishlist-table-button")&&W("{product_name} added to cart",t.data("product_name"),"success"),"1"===p)&&d&&(d.remove(),I(t.val()),isLoggedIn?A(i.wishlist_count):(-1<(i=D()).indexOf(parseInt(t.val()))&&(i.splice(i.indexOf(parseInt(t.val())),1),O(i)),A(i.length)))},"json"),d&&d.removeClass("loading")}),q(document).on("added_to_cart",function(i,t,d,s){var e=s.data("product_id");let a="";var n=(a=0<q("#addonify-wishlist-table").length?q("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+e+'"]'):q("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+e+'"]')).siblings().length;"1"===p&&0<a.length&&(0<a.length&&a.remove(),I(e),A(n),q(document).trigger("addonify_removed_from_wishlist",[{productID:e,wishlist_count:D().length}])),s.parent().hasClass("addonify-wishlist-table-button")&&W("{product_name} added to cart",a.data("product_name"),!1,!1)})},onSideBarAndPopup:function(){e.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),W(t,"","error")}),e.on("click","#addonify-wishlist-close-modal-btn",function(){e.removeClass("addonify-wishlist-modal-is-open")}),e.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){e.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})}}).init()})}(jQuery);