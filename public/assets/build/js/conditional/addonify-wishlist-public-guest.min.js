!function(E){"use strict";E(document).ready(function(){let e=E("body"),a=E("#addonify-wishlist-modal-response"),s="addonify-wishlist",o,n='<div id="addonify-wishlist_spinner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11h5v2H2zm15 0h5v2h-5zm-6 6h2v5h-2zm0-15h2v5h-2zM4.222 5.636l1.414-1.414 3.536 3.536-1.414 1.414zm15.556 12.728-1.414 1.414-3.536-3.536 1.414-1.414zm-12.02-3.536 1.414 1.414-3.536 3.536-1.414-1.414zm7.07-7.071 3.536-3.535 1.414 1.415-3.536 3.535z"></path></svg></div>',l=(E(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),"Default Wishlist"),{requireLogin:i,addedToWishlistButtonLabel:d,loginMessage:t,loginRequiredMessage:r,ajax_url:h,nonce:c,removeAlreadyAddedProductFromWishlist:f,popupAlreadyInWishlistText:w,removeFromWishlistAfterAddedToCart:u,afterAddToWishlistAction:y,wishlistPageURL:p,addToWishlistActionSideBar:m,popupAddedToWishlistText:b,addedToWishlistText:_,initialAddToWishlistButtonLabel:v,sidebarEmptyWishlistText:g,showPageLinkLabel:C,pageLink:z,pageLinkLabel:P,emptyWishlistText:B,thisSiteUrl:k}=addonifyWishlistJSObject;function T(i){let t;var d=parseInt(i.val()?i.val():i.data("product_id"));0<E("#addonify-wishlist-sticky-sidebar-container").length&&(t=E("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<E("#addonify-wishlist-table").length&&(t=E("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(n);let s;0<i.closest("li.addonify-wishlist-sidebar-item").length&&(s=i.closest("li.addonify-wishlist-sidebar-item")).addClass("loading");var e=A();-1<e.indexOf(d)&&(e.splice(e.indexOf(d),1),S(e)),E(document).trigger("addonify_removed_from_wishlist",[{productID:d,productName:i.data("product_name"),wishlistCount:e.length,action:"removed-from-wishlist"}]),e.length<=0&&(E("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),E("#addonify-wishlist__clear-all").hide()),W(d),I(e.length),s&&1===s.length&&s.remove(),t&&t.remove(),i.hasClass("addonify_wishlist-cart-item-add-to-wishlist")&&i.removeClass("adfy-wishlist-hide"),O(i.data("product_name"),d)}function W(i){i=E('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');let d=v;i.each(function(i,t){E(t).attr("data-wishlist_label")&&(d=E(t).attr("data-wishlist_label")),E(t)&&!E(t).hasClass("addonify-custom-wishlist-btn")&&(E(t).removeClass("added-to-wishlist"),E(t).find("span.addonify-wishlist-btn-label").text(d),E(t).find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one"))}),E(".woocommerce-notices-wrapper")&&E(".woocommerce-notices-wrapper").remove()}function x(i,t,d,s=!0){s?E(".addonify-view-wishlist-btn").css("display","block"):E(".addonify-view-wishlist-btn").css("display","none"),E(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),d&&E(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+d).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),e.addClass("addonify-wishlist-modal-is-open")}function I(i){var t=E("#addonify-wishlist-sticky-sidebar-container"),d=E("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para"),s=E("#addonify-wishlist-table"),e=E("#addonify-wishlist-empty");if(e.html(""),0<i)0<s.length&&s.show(),0<d.length&&d.remove();else if(0<t.length&&E("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+g+"</p>"),E("#addonify-wishlist-page-form")){s.hide();let i="";C&&(i="<a href='"+z+"'>"+P+"</a>"),e.html(`
                        <p id="addonify-empty-wishlist-para">`+B+i+`</p>
                    `)}}function O(i,t,d=""){clearTimeout(o);let s=addonifyWishlistJSObject.undoActionPrelabelText;s=s.replace("{product_name}",i);i=addonifyWishlistJSObject.undoActionLabel,t=`
                <p>
                    `+s+`
                    <a href="#" id="addonify-wishlist-undo-deleted-product-link" data-product_id="`+t+'" data-wishlist_id="'+d+'"> '+i+` </a>
                </p>`;E("#addonify-wishlist-notice").html(t),0<parseInt(addonifyWishlistJSObject.undoNoticeTimeout)&&(o=setTimeout(function(){E("#addonify-wishlist-notice").html("")},1e3*parseInt(addonifyWishlistJSObject.undoNoticeTimeout)))}function A(d=!1){d=d||l;let s=[],e=L(J(N("product_ids")));return e&&e.forEach(function(i,t){return"object"!=typeof i?(s=e,!1):i.name===d?(s=e[t].product_ids,!1):void 0}),s}function S(d,s=!1){s=s||l;let e=L(J(N("product_ids")));var i,t;e?(e.forEach(function(i,t){return"object"!=typeof i?(e=d,!1):i.name===s?(e[t].product_ids=d,!1):void 0}),D("product_ids",e)):(e=[],t=j(),i=(new Date).getTime(),t={id:t,name:s,visibility:"private",created_at:i,product_ids:d},e.push(t),D("product_ids",e),D("wishlist_id",j()+1))}function j(){var i=N("wishlist_id");return i?parseInt(i):0}function D(i,t){"object"==typeof t&&(t=JSON.stringify(t));var d=k;localStorage.setItem(s+"_"+d+"_"+i,t)}function J(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}function N(i){var t=k;return localStorage.getItem(s+"_"+t+"_"+i)}function L(d){if(null===d||"object"!=typeof d)return!1;{let t=new Array;var i=Object.keys(d);return 0<i.length&&i.forEach(function(i){t[i]=d[i]}),t}}({init:function(){if("1"!==i){let t=A();t.forEach(function(i,t){i=E('.adfy-wishlist-btn[data-product_id="'+i+'"]');i.hasClass("addonify-custom-wishlist-btn")||(i.find("span").html(d),i.find("i").addClass("heart-style-one").removeClass("heart-o-style-one")),i.addClass("added-to-wishlist")}),E(".addonify_wishlist-cart-item-add-to-wishlist").each(function(){var i=parseInt(E(this).data("product_id"));t.includes(i)||E(this).removeClass("adfy-wishlist-hide")}),0<e.find("div#addonify-wishlist-page-container").length&&(i?E("div#addonify-wishlist-page-container").html("<h3>"+r+"</h3>"):(E("div#addonify-wishlist-page-container").html(n),E.post(h,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(A()),nonce:c},function(i){e.find("div#addonify-wishlist-page-container").replaceWith(i)}))),0!==E("#addonify-wishlist-table").length||i||E.post(h,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(A()),nonce:c},function(i){e.find("#addonify-wishlist-sticky-sidebar-container").replaceWith(i),0<A().length&&E("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")})}E(document).on("addonify_removed_from_wishlist",function(i,t){if(E('.adfy-wishlist-btn[data-product_id="'+t.productID+'"]').removeClass("added-to-wishlist"),"added-to-cart"===t.action){var d=t.productName;if("1"===addonifyWishlistJSObject.removeProductAfterAddedtoCart){clearTimeout(o);let i=addonifyWishlistJSObject.addedtoCartNoticeText;i=i.replace("{product_name}",d),E("#addonify-wishlist-notice").html("<p>"+i+"</p>"),0<parseInt(addonifyWishlistJSObject.undoNoticeTimeout)&&(o=setTimeout(function(){E("#addonify-wishlist-notice").html("")},1e3*parseInt(addonifyWishlistJSObject.undoNoticeTimeout)))}}"removed-from-wishlist"===t.action&&O(t.productName,t.productID,t.wishlistID)}),this.onAddToWishlist(),this.onRemoveFromWishlist(),this.onAddToCart(),this.onSideBarAndPopup()},onAddToWishlist:function(){e.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){i.preventDefault();i=E(this);i.hasClass("added-to-wishlist")?f?T(i):x(w,i.data("product_name")):function(i){var d=parseInt(i.data("product_id")),s=A();if(-1===s.indexOf(d)){if(s.push(d),S(s),"redirect_to_wishlist_page"===y)return window.location.href=p;let t="";E.post(h,{action:m,id:d,nonce:c},function(i){i&&(E("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data),t=i.sidebar_data)});d=E("#addonify-wishlist-undo-deleted-product-link");d&&d.parent("#addonify-wishlist-undo-deleted-product-text").remove(),i.addClass("added-to-wishlist"),I(s.length),"none"!==y&&x(b,i.data("product_name"),"success"),0<s.length&&(E("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),E("#addonify-wishlist__clear-all").show()),i.hasClass("addonify-custom-wishlist-btn")||(i.find("span.addonify-wishlist-btn-label").text(_),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one")),E(document).trigger("addonify_added_to_wishlist",[{productID:i.data("product_id"),wishlistCount:s.length,sidebarData:t}])}else f&&T(i);i.hasClass("addonify_wishlist-cart-item-add-to-wishlist")&&i.addClass("adfy-wishlist-hide")}(i),E("#addonify-wishlist-notice").html("")}),e.on("click","#addonify-wishlist-undo-deleted-product-link",function(i){i.preventDefault(),E("#addonify-wishlist-undo-deleted-product").html("");var i=E(this).data("product_id"),d=E(this).data("wishlist_id"),s=E("button.addonify-add-to-wishlist-btn[data-product_id="+i+"]");let e=E("ul.adfy-wishlist-sidebar-items-entry"),a=E("#addonify-wishlist-table");E("#addonify-wishlist-sticky-sidebar-container").block({message:null}),E("#addonify-wishlist-page-container").append(n);var o=A();if(-1===o.indexOf(i))if(o.push(i),S(o),"redirect_to_wishlist_page"===y)window.location.href=p;else{let t="";E.post(h,{action:m,id:i,wishlist_id:d,nonce:c},function(i){i&&(e.prepend(i.sidebar_data),t=i.sidebar_data,0<a.length)&&i.table_row_data&&a.find("tbody").prepend(i.table_row_data)}).always(function(){E("#addonify-wishlist_spinner").remove(),E("#addonify-wishlist-sticky-sidebar-container").unblock()}),0<s.length&&(s.addClass("added-to-wishlist"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(_),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),I(o.length),0<o.length&&(E("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),E("#addonify-wishlist__clear-all").show()),E(document).trigger("addonify_added_to_wishlist",[{productID:i,wishlistCount:o.length,sidebarData:t}]),E("#addonify-wishlist-notice").html("")}else E("#addonify-wishlist_spinner").remove(),E("#addonify-wishlist-sticky-sidebar-container").unblock(),f&&T(s)})},onRemoveFromWishlist:function(){e.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault(),T(E(this))}),E(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault(),T(E(this))}),E(document).on("click","#addonify-wishlist__clear-all",function(){S([]),I(A().length),E("#addonify-wishlist__clear-all").hide(),E(document).trigger("addonify_wishlist_emptied")}),"1"===u&&E(document).on("click",".product_type_simple.add_to_cart_button",function(i){var t=E(this).data("product_id"),d=A();-1<d.indexOf(parseInt(t))&&(d.splice(d.indexOf(parseInt(t)),1),S(d))}),E(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t;var i=A(),d=parseInt(E(this).val());0<E(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=E(this).closest("tr.addonify-wishlist-table-product-row")),-1<i.indexOf(d)&&(i.splice(i.indexOf(d),1),S(i)),1===t.length&&t.remove(),i.length<=0&&(E("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),E("#addonify-wishlist__clear-all").hide()),I(i.length),O(E(this).data("product_name"),d)})},onAddToCart:function(){E(document).on("added_to_cart",function(i,t,d,s){var e=s.data("product_id");let a="";var o=(a=0<E("#addonify-wishlist-table").length?E("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+e+'"]'):E("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+e+'"]')).siblings().length;"1"===u&&0<a.length&&(0<a.length&&a.remove(),W(e),I(o),E(document).trigger("addonify_removed_from_wishlist",[{productID:e,productName:s.data("product_name"),wishlist_count:A().length,action:"added-to-cart"}])),A().length<=0&&(E("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),E("#addonify-wishlist__clear-all").hide()),E('.adfy-wishlist-btn[data-product_id="'+e+'"]').removeClass("added-to-wishlist")})},onSideBarAndPopup:function(){e.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),x(t,"","error")}),e.on("click","#addonify-wishlist-close-modal-btn, #addonify-wishlist-modal-wrapper",function(){e.removeClass("addonify-wishlist-modal-is-open")}),e.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){e.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})}}).init()})}(jQuery);