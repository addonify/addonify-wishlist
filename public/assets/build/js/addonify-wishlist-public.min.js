function AddonifyPerfectScrollBar(i){new PerfectScrollbar(i,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20})}!function(u){"use strict";u(document).ready(function(){let d=u("body"),a=u("#addonify-wishlist-modal-wrapper"),e=u("#addonify-wishlist-modal-response"),o=u("ul.adfy-wishlist-sidebar-items-entry"),n="addonify-wishlist",l=30,i=addonifyWishlistJSObject.isLoggedIn;if(u(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),!i){let i=y(),s=addonifyWishlistJSObject.addedToWishlistButtonLabel;i.forEach(function(i,t){u('button[data-product_id="'+i+'"]').find("span").html(s),u('button[data-product_id="'+i+'"]').find("i").addClass("heart-style-one").removeClass("heart-o-style-one")})}function r(i,t,s){u(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),u(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+s).show(),e.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),d.addClass("addonify-wishlist-modal-is-open")}function c(i){let t=u("#addonify-wishlist-sticky-sidebar-container .addonify-wishlist-ssc-footer");t&&(t.prepend('<div class="notice adfy-wishlist-sidebar-notice"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" /></svg><span>'+i+"</span></div> "),setTimeout(function(){t.find(".notice").fadeOut("fast",function(){u(this).remove()})},5e3))}function f(i){0<i&&u("#addonify-empty-wishlist-para")?u("#addonify-empty-wishlist-para").remove():(o&&o.html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"),u("#addonify-wishlist-page-container")&&u("#addonify-wishlist-page-container").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"))}function h(i){let t=u('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');t&&!t.hasClass("addonify-custom-wishlist-btn")&&(t.removeClass("added-to-wishlist"),t.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.initialAddToWishlistButtonLabel),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one")),u(".woocommerce-notices-wrapper")&&u(".woocommerce-notices-wrapper").remove()}function y(){var i="product_ids",t=localStorage.getItem(n+"_"+i+"_deadline");if(null!==t){const s=new Date;if(s.getTime()<parseInt(t))return function(s){{if(null===s||"object"!=typeof s)return!1;{let t=new Array,i=Object.keys(s);return 0<i.length&&i.forEach(function(i){t[i]=s[i]}),t}}}(function(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}(localStorage.getItem(n+"_"+i)));localStorage.removeItem(n+"_"+i),localStorage.removeItem(n+"_"+i+"_deadline")}return[]}d.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),r(addonifyWishlistJSObject.loginMessage,"","error")}),d.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(s){s.preventDefault();let d=u(this);if(d.hasClass("added-to-wishlist"))r(addonifyWishlistJSObject.popupAlreadyInWishlistText,d.data("product_name"));else if(i)t=d,s={action:addonifyWishlistJSObject.addToWishlistAction,id:t.data("product_id"),nonce:addonifyWishlistJSObject.nonce},a.addClass("loading"),u.post(addonifyWishlistJSObject.ajax_url,s,function(i){a.removeClass("loading"),1==i.success?(u(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id")}]),f(i.wishlist_count),t.addClass("added-to-wishlist"),r(i.message,t.data("product_name"),"success"),0<i.wishlist_count&&u("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),i.sidebar_data&&o.append(i.sidebar_data),t.hasClass("addonify-custom-wishlist-btn")||(t.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):r(i.message,t.data("product_name"),"error")},"json");else{s=d;let i=s.data("product_id"),t=y();-1===t.indexOf(i)?(t.push(i),function(i){!function(i,t){"object"==typeof t&&(t=JSON.stringify(t));const s=new Date;s.setTime(s.getTime()+24*l*60*60*1e3);var d=s.getTime();localStorage.setItem(n+"_"+i,t),localStorage.setItem(n+"_"+i+"_deadline",d)}("product_ids",i)}(t),console.log("Added to wishlist."),s.addClass("added-to-wishlist"),r(addonifyWishlistJSObject.popupAddedToWishlistText,s.data("product_name"),"success"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):console.log("Item already in wishlist.")}var t}),d.on("click","#addonify-wishlist-close-modal-btn",function(){d.removeClass("addonify-wishlist-modal-is-open")}),d.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){d.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){d.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click",".addonify-wishlist-ajax-add-to-cart",function(i){i.preventDefault();let t=u(this);i={action:"addonify_add_to_cart_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=u("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?u("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),u.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(u(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id")}]),"1"==addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&s&&(s.remove(),h(t.val()),f(i.wishlist_count),c(i.message)))},"json"),s&&s.addClass("loading")}),d.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault();let t=u(this);i={action:"addonify_remove_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=u("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?u("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),u.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(u(document).trigger("addonify_removed_from_wishlist",[{productID:t.val()}]),s.remove(),i.wishlist_count<=0&&u("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),h(t.val()),f(i.wishlist_count),c(i.message))},"json"),s&&s.addClass("loading")})})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var i=document.getElementById("addonify-wishlist-sidebar-form");null!=i&&AddonifyPerfectScrollBar(i)});