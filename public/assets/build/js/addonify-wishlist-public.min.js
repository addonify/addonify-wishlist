function AddonifyPerfectScrollBar(i){new PerfectScrollbar(i,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20})}!function(p){"use strict";p(document).ready(function(){let d=p("body"),e=p("#addonify-wishlist-modal-wrapper"),a=p("#addonify-wishlist-modal-response"),o=p("ul.adfy-wishlist-sidebar-items-entry"),n="addonify-wishlist",l=parseInt(addonifyWishlistJSObject.noOfDaysDataIsValid),r=addonifyWishlistJSObject.isLoggedIn;if(p(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),!r){let i=u(),s=addonifyWishlistJSObject.addedToWishlistButtonLabel;i.forEach(function(i,t){p('button[data-product_id="'+i+'"]').find("span").html(s),p('button[data-product_id="'+i+'"]').find("i").addClass("heart-style-one").removeClass("heart-o-style-one")})}function c(i,t,s){p(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),p(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+s).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),d.addClass("addonify-wishlist-modal-is-open")}function h(i){let t=p("#addonify-wishlist-sticky-sidebar-container .addonify-wishlist-ssc-footer");0<t.length&&(t.prepend('<div class="notice adfy-wishlist-sidebar-notice"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" /></svg><span>'+i+"</span></div> "),setTimeout(function(){t.find(".notice").fadeOut("fast",function(){p(this).remove()})},5e3))}function f(i){var t=p("#addonify-wishlist-sticky-sidebar-container"),s=p("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para");0<i?0<s.length&&s.remove():(0<t.length&&p("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"),p("#addonify-wishlist-page-container")&&p("#addonify-wishlist-page-container").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"))}function y(i){i=p('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');i&&!i.hasClass("addonify-custom-wishlist-btn")&&(i.removeClass("added-to-wishlist"),i.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.initialAddToWishlistButtonLabel),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one")),p(".woocommerce-notices-wrapper")&&p(".woocommerce-notices-wrapper").remove()}function u(){var i="product_ids",t=addonifyWishlistJSObject.thisSiteUrl,s=localStorage.getItem(t+"_"+n+"_"+i+"_deadline");if(null!==s){if((new Date).getTime()<parseInt(s))return function(s){{if(null===s||"object"!=typeof s)return!1;{let t=new Array;var i=Object.keys(s);return 0<i.length&&i.forEach(function(i){t[i]=s[i]}),t}}}(function(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}(localStorage.getItem(t+"_"+n+"_"+i)));localStorage.removeItem(t+"_"+n+"_"+i),localStorage.removeItem(t+"_"+n+"_"+i+"_deadline")}return[]}function w(i){var t="product_ids",s=("object"==typeof i&&(i=JSON.stringify(i)),addonifyWishlistJSObject.thisSiteUrl),d=new Date;d.setTime(d.getTime()+24*l*60*60*1e3),d=d.getTime(),localStorage.setItem(s+"_"+n+"_"+t,i),localStorage.setItem(s+"_"+n+"_"+t+"_deadline",d)}d.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),c(addonifyWishlistJSObject.loginMessage,"","error")}),d.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){console.log("clicked"),i.preventDefault();var t,s,d,i=p(this);i.hasClass("added-to-wishlist")?c(addonifyWishlistJSObject.popupAlreadyInWishlistText,i.data("product_name")):r?(s=i,d={action:addonifyWishlistJSObject.addToWishlistAction,id:s.data("product_id"),nonce:addonifyWishlistJSObject.nonce},e.addClass("loading"),p.post(addonifyWishlistJSObject.ajax_url,d,function(i){e.removeClass("loading"),1==i.success?(p(document).trigger("addonify_added_to_wishlist",[{productID:s.data("product_id")}]),f(i.wishlist_count),s.addClass("added-to-wishlist"),c(i.message,s.data("product_name"),"success"),0<i.wishlist_count&&p("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),i.sidebar_data&&o.append(i.sidebar_data),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):c(i.message,s.data("product_name"),"error")},"json")):(d=i,console.log("here"),i=d.data("product_id"),-1===(t=u()).indexOf(i)?(t.push(i),w(t),"redirect_to_wishlist_page"===addonifyWishlistJSObject.afterAddToWishlistAction&&(window.location.href=addonifyWishlistJSObject.wishlistPageURL),p.post(addonifyWishlistJSObject.ajax_url,{action:addonifyWishlistJSObject.addToWishlistActionSideBar,id:d.data("product_id"),nonce:addonifyWishlistJSObject.nonce},function(i){i&&p("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data)}),d.addClass("added-to-wishlist"),f(t.length),c(addonifyWishlistJSObject.popupAddedToWishlistText,d.data("product_name"),"success"),0<t.length&&p("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),d.hasClass("addonify-custom-wishlist-btn")||(d.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),d.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):console.log("Item already in wishlist."))}),d.on("click","#addonify-wishlist-close-modal-btn",function(){d.removeClass("addonify-wishlist-modal-is-open")}),d.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){d.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){d.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click",".addonify-wishlist-ajax-add-to-cart",function(i){i.preventDefault();let t=p(this);i={action:"addonify_add_to_cart_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=p("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?p("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),p.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(p(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id")}]),c("{product_name} added to cart.",t.data("product_name"),"success"),"1"==addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&s&&(s.remove(),y(t.val()),f(i.wishlist_count),h(i.message)),addonifyWishlistJSObject.redirectToCheckOutAfterAddedToCart)&&(window.location.href=addonifyWishlistJSObject.checkoutPageURL)},"json"),s&&s.addClass("loading")}),d.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault();let t=p(this);i={action:"addonify_remove_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=p("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?p("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),p.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(p(document).trigger("addonify_removed_from_wishlist",[{productID:t.val()}]),s.remove(),i.wishlist_count<=0&&p("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),y(t.val()),f(i.wishlist_count),h(i.message))},"json"),s&&s.addClass("loading")}),r||(0<d.find("div#addonify-wishlist-page-container").length&&(p.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(u()),nonce:addonifyWishlistJSObject.nonce},function(i){d.find("div#addonify-wishlist-page-container").html(i)}),p(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t;var i=u(),s=parseInt(p(this).val());0<p(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=p(this).closest("tr.addonify-wishlist-table-product-row")),-1<i.indexOf(s)&&(i.splice(i.indexOf(s),1),w(i)),1===t.length&&t.remove(),f(i.length)})),p(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault();i=p(this);let t;var s=u(),d=parseInt(i.val());0<i.closest("li.addonify-wishlist-sidebar-item").length&&(t=i.closest("li.addonify-wishlist-sidebar-item")),-1<s.indexOf(d)&&(s.splice(s.indexOf(d),1),w(s)),1===t.length&&t.remove(),p(document).trigger("addonify_removed_from_wishlist",[{productID:i.val()}]),s.length<=0&&p("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),y(i.val()),f(s.length),h(i.data("product_name")+addonifyWishlistJSObject.removedFromWishlistText)}),p.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(u()),nonce:addonifyWishlistJSObject.nonce},function(i){d.append(i),0<u().length&&p("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")}))})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var i=document.getElementById("addonify-wishlist-sidebar-form");null!=i&&AddonifyPerfectScrollBar(i)});