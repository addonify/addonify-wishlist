function AddonifyPerfectScrollBar(i){new PerfectScrollbar(i,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20})}!function(w){"use strict";w(document).ready(function(){let d=w("body"),e=w("#addonify-wishlist-modal-wrapper"),a=w("#addonify-wishlist-modal-response"),o=w("ul.adfy-wishlist-sidebar-items-entry"),n="addonify-wishlist",l=30,i=addonifyWishlistJSObject.isLoggedIn;if(w(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),!i){let i=y(),s=addonifyWishlistJSObject.addedToWishlistButtonLabel;i.forEach(function(i,t){w('button[data-product_id="'+i+'"]').find("span").html(s),w('button[data-product_id="'+i+'"]').find("i").addClass("heart-style-one").removeClass("heart-o-style-one")})}function r(i,t,s){w(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),w(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+s).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),d.addClass("addonify-wishlist-modal-is-open")}function c(i){let t=w("#addonify-wishlist-sticky-sidebar-container .addonify-wishlist-ssc-footer");0<t.length&&(t.prepend('<div class="notice adfy-wishlist-sidebar-notice"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" /></svg><span>'+i+"</span></div> "),setTimeout(function(){t.find(".notice").fadeOut("fast",function(){w(this).remove()})},5e3))}function h(i){var t=w("#addonify-wishlist-sticky-sidebar-container");let s=w("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para");0<i?0<s.length&&s.remove():(0<t.length&&w("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"),w("#addonify-wishlist-page-container")&&w("#addonify-wishlist-page-container").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.emptyWishlistText+"</p>"))}function f(i){let t=w('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');t&&!t.hasClass("addonify-custom-wishlist-btn")&&(t.removeClass("added-to-wishlist"),t.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.initialAddToWishlistButtonLabel),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one")),w(".woocommerce-notices-wrapper")&&w(".woocommerce-notices-wrapper").remove()}function y(){var i="product_ids",t=addonifyWishlistJSObject.thisSiteUrl,s=localStorage.getItem(t+"_"+n+"_"+i+"_deadline");if(null!==s){const d=new Date;if(d.getTime()<parseInt(s))return function(s){{if(null===s||"object"!=typeof s)return!1;{let t=new Array,i=Object.keys(s);return 0<i.length&&i.forEach(function(i){t[i]=s[i]}),t}}}(function(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}(localStorage.getItem(t+"_"+n+"_"+i)));localStorage.removeItem(t+"_"+n+"_"+i),localStorage.removeItem(t+"_"+n+"_"+i+"_deadline")}return[]}function u(i){{var t="product_ids",s=("object"==typeof i&&(i=JSON.stringify(i)),addonifyWishlistJSObject.thisSiteUrl);const e=new Date;e.setTime(e.getTime()+24*l*60*60*1e3);var d=e.getTime();return localStorage.setItem(s+"_"+n+"_"+t,i),void localStorage.setItem(s+"_"+n+"_"+t+"_deadline",d)}}d.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),r(addonifyWishlistJSObject.loginMessage,"","error")}),d.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(s){s.preventDefault();let d=w(this);if(d.hasClass("added-to-wishlist"))r(addonifyWishlistJSObject.popupAlreadyInWishlistText,d.data("product_name"));else if(i)t=d,s={action:addonifyWishlistJSObject.addToWishlistAction,id:t.data("product_id"),nonce:addonifyWishlistJSObject.nonce},e.addClass("loading"),w.post(addonifyWishlistJSObject.ajax_url,s,function(i){e.removeClass("loading"),1==i.success?(w(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id")}]),h(i.wishlist_count),t.addClass("added-to-wishlist"),r(i.message,t.data("product_name"),"success"),0<i.wishlist_count&&w("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),i.sidebar_data&&o.append(i.sidebar_data),t.hasClass("addonify-custom-wishlist-btn")||(t.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):r(i.message,t.data("product_name"),"error")},"json");else{s=d;let i=s.data("product_id"),t=y();-1===t.indexOf(i)?(t.push(i),u(t),w.post(addonifyWishlistJSObject.ajax_url,{action:addonifyWishlistJSObject.addToWishlistActionSideBar,id:s.data("product_id"),nonce:addonifyWishlistJSObject.nonce},function(i){i&&w("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data)}),s.addClass("added-to-wishlist"),h(t.length),r(addonifyWishlistJSObject.popupAddedToWishlistText,s.data("product_name"),"success"),0<t.length&&w("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):console.log("Item already in wishlist.")}var t}),d.on("click","#addonify-wishlist-close-modal-btn",function(){d.removeClass("addonify-wishlist-modal-is-open")}),d.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){d.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){d.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),d.on("click",".addonify-wishlist-ajax-add-to-cart",function(i){i.preventDefault();let t=w(this);i={action:"addonify_add_to_cart_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=w("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?w("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),w.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(w(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id")}]),"1"==addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&s&&(s.remove(),f(t.val()),h(i.wishlist_count),c(i.message)))},"json"),s&&s.addClass("loading")}),d.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault();let t=w(this);i={action:"addonify_remove_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let s="";t.hasClass("addonify-wishlist-sidebar-button")&&(s=w("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(s=t.hasClass("addonify-wishlist-table-button")?w("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):s)&&s.addClass("loading"),w.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(w(document).trigger("addonify_removed_from_wishlist",[{productID:t.val()}]),s.remove(),i.wishlist_count<=0&&w("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),f(t.val()),h(i.wishlist_count),c(i.message))},"json"),s&&s.addClass("loading")}),i||(0<d.find("div#addonify-wishlist-page-container").length&&(w.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(y()),nonce:addonifyWishlistJSObject.nonce},function(i){d.find("div#addonify-wishlist-page-container").html(i)}),w(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t,s=y();i=parseInt(w(this).val());0<w(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=w(this).closest("tr.addonify-wishlist-table-product-row")),-1<s.indexOf(i)&&(s.splice(s.indexOf(i),1),u(s)),1===t.length&&t.remove(),h(s.length)})),w(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault();let t=w(this),s,d=y();i=parseInt(t.val());0<t.closest("li.addonify-wishlist-sidebar-item").length&&(s=t.closest("li.addonify-wishlist-sidebar-item")),-1<d.indexOf(i)&&(d.splice(d.indexOf(i),1),u(d)),1===s.length&&s.remove(),w(document).trigger("addonify_removed_from_wishlist",[{productID:t.val()}]),d.length<=0&&w("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),f(t.val()),h(d.length),c(t.data("product_name")+addonifyWishlistJSObject.removedFromWishlistText)}),w.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(y()),nonce:addonifyWishlistJSObject.nonce},function(i){d.append(i),0<y().length&&w("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")}))})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var i=document.getElementById("addonify-wishlist-sidebar-form");null!=i&&AddonifyPerfectScrollBar(i)});