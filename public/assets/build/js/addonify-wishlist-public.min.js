function AddonifyPerfectScrollBar(i){new PerfectScrollbar(i,{wheelSpeed:1,wheelPropagation:!0,minScrollbarLength:20})}!function(O){"use strict";O(document).ready(function(){let e=O("body"),a=O("#addonify-wishlist-modal-response"),o=O("ul.adfy-wishlist-sidebar-items-entry"),n="addonify-wishlist",l=parseInt(addonifyWishlistJSObject.noOfDaysDataIsValid),r=addonifyWishlistJSObject.isLoggedIn,s,c='<div id="addonify-wishlist_spinner"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2 11h5v2H2zm15 0h5v2h-5zm-6 6h2v5h-2zm0-15h2v5h-2zM4.222 5.636l1.414-1.414 3.536 3.536-1.414 1.414zm15.556 12.728-1.414 1.414-3.536-3.536 1.414-1.414zm-12.02-3.536 1.414 1.414-3.536 3.536-1.414-1.414zm7.07-7.071 3.536-3.535 1.414 1.415-3.536 3.535z"></path></svg></div>',h=(O(".addonify-add-to-wishlist-btn button.added-to-wishlist").attr("disabled",!0),"Default Wishlist");if(!r){let i=_(),d=addonifyWishlistJSObject.addedToWishlistButtonLabel;i.forEach(function(i,t){O('button.adfy-wishlist-btn[data-product_id="'+i+'"]').find("span").html(d),O('button.adfy-wishlist-btn[data-product_id="'+i+'"]').find("i").addClass("heart-style-one").removeClass("heart-o-style-one")})}function f(t){let d=parseInt(t.val()?t.val():t.data("product_id"));var i={action:"addonify_remove_from_wishlist",productId:d,nonce:addonifyWishlistJSObject.nonce};let s="";0<O("#addonify-wishlist-sticky-sidebar-container").length&&(s=O("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<O("#addonify-wishlist-table").length&&(s=O("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(c),O.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(O(document).trigger("addonify_removed_from_wishlist",[{productID:d,wishlistCount:i.wishlist_count}]),i.wishlist_count<=0&&(O("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),O("#addonify-wishlist__clear-all").hide()),b(d),w(i.wishlist_count),p(t.data("product_name"),d))},"json").always(function(){s&&s.remove()})}function y(i){let t;var d=parseInt(i.val()?i.val():i.data("product_id"));0<O("#addonify-wishlist-sticky-sidebar-container").length&&(t=O("#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+d+'"]')).addClass("loading"),0<O("#addonify-wishlist-table").length&&(t=O("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+d+'"]')).append(c);let s;0<i.closest("li.addonify-wishlist-sidebar-item").length&&(s=i.closest("li.addonify-wishlist-sidebar-item")).addClass("loading");var e=_();-1<e.indexOf(d)&&(e.splice(e.indexOf(d),1),m(e)),O(document).trigger("addonify_removed_from_wishlist",[{productID:d,wishlistCount:e.length}]),e.length<=0&&(O("#addonify-wishlist-show-sidebar-btn").addClass("hidden"),O("#addonify-wishlist__clear-all").hide()),b(d),w(e.length),s&&1===s.length&&s.remove(),t&&t.remove(),p(i.data("product_name"),d)}function u(i,t,d,s=!0){s?O(".addonify-view-wishlist-btn").css("display","block"):O(".addonify-view-wishlist-btn").css("display","none"),O(".adfy-wishlist-icon-entry .adfy-wishlist-icon").hide(),d&&O(".adfy-wishlist-icon-entry .adfy-wishlist-icon.adfy-status-"+d).show(),a.html("<p class='response-text'>"+i.replace("{product_name}",t)+"</p>"),e.addClass("addonify-wishlist-modal-is-open")}function w(i){var t=O("#addonify-wishlist-sticky-sidebar-container"),d=O("#addonify-wishlist-sticky-sidebar-container #addonify-empty-wishlist-para"),s=O("#addonify-wishlist-table"),e=O("#addonify-wishlist-empty");if(e.html(""),0<i)0<s.length&&s.show(),0<d.length&&d.remove();else if(0<t.length&&O("#addonify-wishlist-sticky-sidebar-container ul.adfy-wishlist-sidebar-items-entry").html('<p id="addonify-empty-wishlist-para">'+addonifyWishlistJSObject.sidebarEmptyWishlistText+"</p>"),O("#addonify-wishlist-page-form")){s.hide();let i="";addonifyWishlistJSObject.showPageLinkLabel&&(i="<a href='"+addonifyWishlistJSObject.pageLink+"'>"+addonifyWishlistJSObject.pageLinkLabel+"</a>"),e.html(`
                        <p id="addonify-empty-wishlist-para">`+addonifyWishlistJSObject.emptyWishlistText+i+`</p>
                    `)}}function p(i,t){clearTimeout(s);let d=addonifyWishlistJSObject.undoActionPrelabelText;d=d.replace("{product_name}",i);i=addonifyWishlistJSObject.undoActionLabel,t=`
                <p id="addonify-wishlist-undo-deleted-product-text">
                    `+d+`
                    <a href="#" id="addonify-wishlist-undo-deleted-product-link" data-product_id="`+t+'"> '+i+` </a>
                </p>`;O("#addonify-wishlist-undo-deleted-product").html(t),s=setTimeout(function(){O("#addonify-wishlist-undo-deleted-product").html("")},1e3*parseInt(addonifyWishlistJSObject.undoNoticeTimeout))}function b(i){i=O('[data-product_id="'+i+'"].addonify-add-to-wishlist-btn');i&&!i.hasClass("addonify-custom-wishlist-btn")&&(i.removeClass("added-to-wishlist"),i.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.initialAddToWishlistButtonLabel),i.find("i.icon.adfy-wishlist-icon").removeClass("heart-style-one").addClass("heart-o-style-one")),O(".woocommerce-notices-wrapper")&&O(".woocommerce-notices-wrapper").remove()}function _(d=!1){d=d||h;let s=[],e=S(W(j("product_ids")));return e&&e.forEach(function(i,t){return"object"!=typeof i?(s=e,!1):i.name===d?(s=e[t].product_ids,!1):void 0}),s}function m(d,s=!1){s=s||h;let e=S(W(j("product_ids")));var i,t;e?(e.forEach(function(i,t){return"object"!=typeof i?(e=d,!1):i.name===s?(e[t].product_ids=d,!1):void 0}),v("product_ids",e)):(e=[],t=g(),i=(new Date).getTime(),t={id:t,name:s,visibility:"private",created_at:i,product_ids:d},e.push(t),v("product_ids",e),v("wishlist_id",g()+1))}function g(){var i=j("wishlist_id");return i?parseInt(i):0}function v(i,t){"object"==typeof t&&(t=JSON.stringify(t));var d,s=addonifyWishlistJSObject.thisSiteUrl;let e;e=0===l?0:((d=new Date).setTime(d.getTime()+24*l*60*60*1e3),d.getTime()),localStorage.setItem(n+"_"+s+"_"+i,t),localStorage.setItem(n+"_"+s+"_"+i+"_deadline",e)}function W(i){let t;try{t=JSON.parse(i)}catch(i){return!1}return t}function j(i){var t=addonifyWishlistJSObject.thisSiteUrl,d=parseInt(localStorage.getItem(n+"_"+t+"_"+i+"_deadline"));if(null!==d){var s=new Date;if(0===d||s.getTime()<d)return localStorage.getItem(n+"_"+t+"_"+i);localStorage.removeItem(n+"_"+t+"_"+i),localStorage.removeItem(n+"_"+t+"_"+i+"_deadline")}return!1}function S(d){if(null===d||"object"!=typeof d)return!1;{let t=new Array;var i=Object.keys(d);return 0<i.length&&i.forEach(function(i){t[i]=d[i]}),t}}e.on("click",".addonify-wishlist-login-popup-enabled",function(i){i.preventDefault(),u(addonifyWishlistJSObject.loginMessage,"","error")}),e.on("click",".addonify-wishlist-ajax-add-to-wishlist",function(i){i.preventDefault();var t,i=O(this);if(i.hasClass("added-to-wishlist"))addonifyWishlistJSObject.removeAlreadyAddedProductFromWishlist?(r?f:y)(i):u(addonifyWishlistJSObject.popupAlreadyInWishlistText,i.data("product_name"));else if(r)t=i,d={action:addonifyWishlistJSObject.addToWishlistAction,id:t.data("product_id"),nonce:addonifyWishlistJSObject.nonce},t.addClass("loading"),O.post(addonifyWishlistJSObject.ajax_url,d,function(i){1==i.success?(O(document).trigger("addonify_added_to_wishlist",[{productID:t.data("product_id"),wishlistCount:i.wishlist_count,sidebarData:i.sidebar_data}]),w(i.wishlist_count),t.addClass("added-to-wishlist"),u(i.message,t.data("product_name"),"success"),0<i.wishlist_count&&(O("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),O("#addonify-wishlist__clear-all").show()),i.sidebar_data&&o.append(i.sidebar_data),t.hasClass("addonify-custom-wishlist-btn")||(t.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),t.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))):u(i.message,t.data("product_name"),"error")},"json").always(function(){t.removeClass("loading")});else{var d=i,i=d.data("product_id"),s=_();if(-1===s.indexOf(i))if(s.push(i),m(s),"redirect_to_wishlist_page"===addonifyWishlistJSObject.afterAddToWishlistAction)window.location.href=addonifyWishlistJSObject.wishlistPageURL;else{let t="";O.post(addonifyWishlistJSObject.ajax_url,{action:addonifyWishlistJSObject.addToWishlistActionSideBar,id:d.data("product_id"),nonce:addonifyWishlistJSObject.nonce},function(i){i&&(O("ul.adfy-wishlist-sidebar-items-entry").append(i.sidebar_data),t=i.sidebar_data)}),d.addClass("added-to-wishlist"),w(s.length),u(addonifyWishlistJSObject.popupAddedToWishlistText,d.data("product_name"),"success"),0<s.length&&(O("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),O("#addonify-wishlist__clear-all").show()),d.hasClass("addonify-custom-wishlist-btn")||(d.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),d.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one")),O(document).trigger("addonify_added_to_wishlist",[{productID:d.data("product_id"),wishlistCount:s.length,sidebarData:t}])}else addonifyWishlistJSObject.removeAlreadyAddedProductFromWishlist&&y(d)}}),e.on("click","#addonify-wishlist-close-modal-btn",function(){e.removeClass("addonify-wishlist-modal-is-open")}),e.on("click","#addonify-wishlist-sticky-sidebar-overlay",function(){e.removeClass("addonify-wishlist-sticky-sidebar-is-visible")}),e.on("click","#addonify-wishlist-show-sidebar-btn, #close-adfy-wishlist-sidebar-button",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")}),e.on("click",".addonify-wishlist-ajax-add-to-cart",function(i){i.preventDefault();let t=O(this);i={action:"addonify_add_to_cart_from_wishlist",productId:t.val(),nonce:addonifyWishlistJSObject.nonce};let d="";t.hasClass("addonify-wishlist-sidebar-button")&&(d=O("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+t.val()+'"]')),(d=t.hasClass("addonify-wishlist-table-button")?O("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+t.val()+'"]'):d)&&d.addClass("loading"),O.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success&&(O(document).trigger("addonify_added_to_cart",[{productID:t.data("product_id")}]),t.hasClass("addonify-wishlist-table-button")&&u("{product_name} added to cart",t.data("product_name"),"success"),"1"===addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart)&&d&&(d.remove(),b(t.val()),r?w(i.wishlist_count):(-1<(i=_()).indexOf(parseInt(t.val()))&&(i.splice(i.indexOf(parseInt(t.val())),1),m(i)),w(i.length)))},"json"),d&&d.removeClass("loading")}),e.on("click","#addonify-wishlist-undo-deleted-product-link",function(i){i.preventDefault(),O("#addonify-wishlist-undo-deleted-product").html("");let d=O(this).data("product_id"),s=O("button.addonify-add-to-wishlist-btn[data-product_id="+d+"]"),e=O("ul.adfy-wishlist-sidebar-items-entry"),a=O("#addonify-wishlist-table");if(O("#addonify-wishlist-sticky-sidebar-container").block({message:null}),O("#addonify-wishlist-page-container").append(c),r){i={action:addonifyWishlistJSObject.addToWishlistAction,id:d,nonce:addonifyWishlistJSObject.nonce};O.post(addonifyWishlistJSObject.ajax_url,i,function(i){1==i.success?(O(document).trigger("addonify_added_to_wishlist",[{productID:d,wishlistCount:i.wishlist_count,sidebarData:i.sidebar_data}]),w(i.wishlist_count),0<s.length&&(s.addClass("added-to-wishlist"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),0<i.wishlist_count&&(O("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),O("#addonify-wishlist__clear-all").show()),i.sidebar_data&&o.prepend(i.sidebar_data),0<a.length&&i.table_row_data&&a.find("tbody").prepend(i.table_row_data)):u(i.message,s.data("product_name"),"error")},"json").always(function(){O("#addonify-wishlist_spinner").remove(),O("#addonify-wishlist-sticky-sidebar-container").unblock()})}else{i=_();if(-1===i.indexOf(d))if(i.push(d),m(i),"redirect_to_wishlist_page"===addonifyWishlistJSObject.afterAddToWishlistAction)window.location.href=addonifyWishlistJSObject.wishlistPageURL;else{let t="";O.post(addonifyWishlistJSObject.ajax_url,{action:addonifyWishlistJSObject.addToWishlistActionSideBar,id:O(this).data("product_id"),nonce:addonifyWishlistJSObject.nonce},function(i){i&&(e.prepend(i.sidebar_data),t=i.sidebar_data,0<a.length)&&i.table_row_data&&a.find("tbody").prepend(i.table_row_data)}).always(function(){O("#addonify-wishlist_spinner").remove(),O("#addonify-wishlist-sticky-sidebar-container").unblock()}),0<s.length&&(s.addClass("added-to-wishlist"),s.hasClass("addonify-custom-wishlist-btn")||(s.find("span.addonify-wishlist-btn-label").text(addonifyWishlistJSObject.addedToWishlistText),s.find("i.icon.adfy-wishlist-icon").removeClass("heart-o-style-one").addClass("heart-style-one"))),w(i.length),0<i.length&&(O("#addonify-wishlist-show-sidebar-btn").removeClass("hidden"),O("#addonify-wishlist__clear-all").show()),O(document).trigger("addonify_added_to_wishlist",[{productID:d,wishlistCount:i.length,sidebarData:t}])}else O("#addonify-wishlist_spinner").remove(),O("#addonify-wishlist-sticky-sidebar-container").unblock(),addonifyWishlistJSObject.removeAlreadyAddedProductFromWishlist&&y(s)}}),e.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(i){i.preventDefault(),f(O(this))}),O(document).on("added_to_cart",function(i,t,d,s){var e=s.data("product_id");let a="";var o=(a=0<O("#addonify-wishlist-table").length?O("#addonify-wishlist-table").find('tr[data-product_row="addonify-wishlist-table-product-row-'+e+'"]'):O("div#addonify-wishlist-sticky-sidebar-container").find('li[data-product_row="addonify-wishlist-sidebar-product-row-'+e+'"]')).siblings().length;"1"===addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&0<a.length&&(0<a.length&&a.remove(),b(e),w(o),O(document).trigger("addonify_removed_from_wishlist",[{productID:e,wishlist_count:_().length}])),s.parent().hasClass("addonify-wishlist-table-button")&&u("{product_name} added to cart",a.data("product_name"),!1,!1)}),r?O(document).on("click","#addonify-wishlist__clear-all",function(){var i={action:addonifyWishlistJSObject.emptyWishlistAction,nonce:addonifyWishlistJSObject.nonce};O("#addonify-wishlist-table").append(c),O.post(addonifyWishlistJSObject.ajax_url,i,function(i){i.success?(w(0),u(i.message,"","success",!1),O("#addonify-wishlist__clear-all").hide(),O(document).trigger("addonify_wishlist_emptied")):u(i.message,"","failure",!1)}).always(function(){O("#addonify-wishlist-table #addonify-wishlist_spinner").remove()})}):(0<e.find("div#addonify-wishlist-page-container").length&&(addonifyWishlistJSObject.requireLogin?O("div#addonify-wishlist-page-container").html("<h3>"+addonifyWishlistJSObject.loginRequiredMessage+"</h3>"):(O("div#addonify-wishlist-page-container").html(c),O.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_table",productIds:JSON.stringify(_()),nonce:addonifyWishlistJSObject.nonce},function(i){e.find("div#addonify-wishlist-page-container").replaceWith(i)}),O(document).on("click",".addonify-wishlist-table-remove-from-wishlist",function(i){i.preventDefault();let t;var i=_(),d=parseInt(O(this).val());0<O(this).closest("tr.addonify-wishlist-table-product-row").length&&(t=O(this).closest("tr.addonify-wishlist-table-product-row")),-1<i.indexOf(d)&&(i.splice(i.indexOf(d),1),m(i)),1===t.length&&t.remove(),w(i.length),p(O(this).data("product_name"),d)}))),O(document).on("click",".addonify-wishlist-remove-from-wishlist",function(i){i.preventDefault(),y(O(this))}),0!==O("#addonify-wishlist-table").length||addonifyWishlistJSObject.requireLogin||O.post(addonifyWishlistJSObject.ajax_url,{action:"addonify_get_wishlist_sidebar",productIds:JSON.stringify(_()),nonce:addonifyWishlistJSObject.nonce},function(i){e.find("#addonify-wishlist-sticky-sidebar-container").replaceWith(i),0<_().length&&O("#addonify-wishlist-show-sidebar-btn").removeClass("hidden")}),"1"===addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&O(document).on("click",".product_type_simple.add_to_cart_button",function(i){var t=O(this).data("product_id"),d=_();-1<d.indexOf(parseInt(t))&&(d.splice(d.indexOf(parseInt(t)),1),m(d))}),O(document).on("click","#addonify-wishlist__clear-all",function(){m([]),w(_().length),u(addonifyWishlistJSObject.emptiedWishlistText,"","success",!1),O("#addonify-wishlist__clear-all").hide(),O(document).trigger("addonify_wishlist_emptied")}))})}(jQuery),document.addEventListener("DOMContentLoaded",function(){var i=document.getElementById("addonify-wishlist-sidebar-form");null!=i&&AddonifyPerfectScrollBar(i)});